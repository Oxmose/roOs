<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UTK - Utility Kernel: Source/Kernel/Arch/Board/x86/src/uart.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UTK - Utility Kernel
   &#160;<span id="projectnumber">ver. 0.1</span>
   </div>
   <div id="projectbrief">Utility Kernel</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="dir_6130151139ac5df9513b64611b721a4c.html">Kernel</a></li><li class="navelem"><a class="el" href="dir_22cf87d2017e6009cfa70ca0ce248949.html">Arch</a></li><li class="navelem"><a class="el" href="dir_3b1a68e4dbb9610ac90a3fa88eb6643e.html">Board</a></li><li class="navelem"><a class="el" href="dir_4305cce3a72b82ce23802574ea955a1d.html">x86</a></li><li class="navelem"><a class="el" href="dir_48ecb16c71ac5fa92eca09cbedc5cfdf.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">uart.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="uart_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * @file uart.c</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * @see uart.h</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * @author Alexy Torres Aurora Dugo</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * @date 23/04/2023</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * @version 1.0</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * @brief UART communication driver.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * @details UART communication driver. Initializes the uart ports as in and</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * output. The uart can be used to output data or communicate with other</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * prepherals that support this communication method</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * @copyright Alexy Torres Aurora Dugo</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * INCLUDES</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* Included headers */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="stdint_8h.html">stdint.h</a>&gt;</span>         <span class="comment">/* Generic int types */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="stddef_8h.html">stddef.h</a>&gt;</span>         <span class="comment">/* Standard definitions */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="string_8h.html">string.h</a>&gt;</span>         <span class="comment">/* String manipulation */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="console_8h.html">console.h</a>&gt;</span>        <span class="comment">/* Console driver manager */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;cpu.h&gt;</span>            <span class="comment">/* CPU Ports */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="kernel__output_8h.html">kernel_output.h</a>&gt;</span>  <span class="comment">/* Kernel outputs */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;critical.h&gt;</span>       <span class="comment">/* Critical sections */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/* Configuration files */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="config_8h.html">config.h</a>&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/* Header file */</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="uart_8h.html">uart.h</a>&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * CONSTANTS</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="uart_8c.html#a14ded244c47bbba850a8a4be6d16c7e3">   45</a></span>&#160;<span class="preprocessor">#define MODULE_NAME &quot;X86 UART&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="uart_8c.html#a34365e17c472073dfba3681bb38054f3">   48</a></span>&#160;<span class="preprocessor">#define SERIAL_COM1_BASE 0x3F8</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="uart_8c.html#a1c2c6ce60cb9ef295cd0272b59196f82">   50</a></span>&#160;<span class="preprocessor">#define SERIAL_COM2_BASE 0x2F8</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="uart_8c.html#aa468a88b2acccde9bbf5e401f5d88eaf">   52</a></span>&#160;<span class="preprocessor">#define SERIAL_COM3_BASE 0x3E8</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="uart_8c.html#acebbaec5ade4a12ee12ff0587a86ed94">   54</a></span>&#160;<span class="preprocessor">#define SERIAL_COM4_BASE 0x2E8</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="uart_8c.html#a00dbb3ab1c59e14699be9393693e2248">   57</a></span>&#160;<span class="preprocessor">#define COM1 SERIAL_COM1_BASE</span></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="uart_8c.html#a435e02f194c24c9b0e00d7cd27a1704e">   59</a></span>&#160;<span class="preprocessor">#define COM2 SERIAL_COM2_BASE</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="uart_8c.html#abbed02672431595364c5dd35809303a6">   61</a></span>&#160;<span class="preprocessor">#define COM3 SERIAL_COM3_BASE</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="uart_8c.html#a595cabb01568ba641574d24546d99c6b">   63</a></span>&#160;<span class="preprocessor">#define COM4 SERIAL_COM4_BASE</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="uart_8c.html#a15e96ed0b7a1a56e593f838c424e1635">   66</a></span>&#160;<span class="preprocessor">#define SERIAL_OUTPUT_PORT COM1</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="uart_8c.html#a4bd0c20da37480ffee47598349e9e0fe">   69</a></span>&#160;<span class="preprocessor">#define SERIAL_DATA_LENGTH_5 0x00</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="uart_8c.html#ad4edc01bd90ce73ee711cd3919428b22">   71</a></span>&#160;<span class="preprocessor">#define SERIAL_DATA_LENGTH_6 0x01</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="uart_8c.html#a34e3930664271c4bda7b9eb1675b9cd0">   73</a></span>&#160;<span class="preprocessor">#define SERIAL_DATA_LENGTH_7 0x02</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="uart_8c.html#ab7d8c6b3660b431109c909755e457c26">   75</a></span>&#160;<span class="preprocessor">#define SERIAL_DATA_LENGTH_8 0x03</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="uart_8c.html#a1e1822ba21f5e720c09e1712576413f4">   78</a></span>&#160;<span class="preprocessor">#define SERIAL_STOP_BIT_1   0x00</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="uart_8c.html#ac743d7fbebfa22ae199ae7885afea07c">   80</a></span>&#160;<span class="preprocessor">#define SERIAL_STOP_BIT_2   0x04</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="uart_8c.html#ad3af92391cfd2670eb782a60c7f923a6">   83</a></span>&#160;<span class="preprocessor">#define SERIAL_PARITY_NONE  0x00</span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="uart_8c.html#aa1baeda93fe64b888113824d02471d0f">   85</a></span>&#160;<span class="preprocessor">#define SERIAL_PARITY_ODD   0x01</span></div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="uart_8c.html#ab1469484b1ad5e39561c21b5a590eaf6">   87</a></span>&#160;<span class="preprocessor">#define SERIAL_PARITY_EVEN  0x03</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="uart_8c.html#a4b3897d63a1a6d5ced0feff0d3ce3460">   89</a></span>&#160;<span class="preprocessor">#define SERIAL_PARITY_MARK  0x05</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="uart_8c.html#ad5ab869b9c6d8c3dfaefe9c913d55ce7">   91</a></span>&#160;<span class="preprocessor">#define SERIAL_PARITY_SPACE 0x07</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="uart_8c.html#a8f5a71c87dac509b1ef7e52c3c56cf98">   94</a></span>&#160;<span class="preprocessor">#define SERIAL_BREAK_CTRL_ENABLED  0x40</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="uart_8c.html#afb9ca3f7eecfdcf16088b917d2d8003a">   96</a></span>&#160;<span class="preprocessor">#define SERIAL_BREAK_CTRL_DISABLED 0x00</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="uart_8c.html#a873382b43e1973a22b6ce75f02c6a182">   99</a></span>&#160;<span class="preprocessor">#define SERIAL_DLAB_ENABLED  0x80</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="uart_8c.html#af3725655502b7f6f733daed938982c41">  101</a></span>&#160;<span class="preprocessor">#define SERIAL_DLAB_DISABLED 0x00</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="uart_8c.html#ac9e29bed47741802d3a895b7d43e3962">  104</a></span>&#160;<span class="preprocessor">#define SERIAL_ENABLE_FIFO       0x01</span></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="uart_8c.html#a2a60628f88ee6bc4c4259f29a0bd770d">  106</a></span>&#160;<span class="preprocessor">#define SERIAL_CLEAR_RECV_FIFO   0x02</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="uart_8c.html#af80ebedb3b15dbd522485b6b69530721">  108</a></span>&#160;<span class="preprocessor">#define SERIAL_CLEAR_SEND_FIFO   0x04</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="uart_8c.html#a73de4996e9764e8c5d2db9e20132d34d">  110</a></span>&#160;<span class="preprocessor">#define SERIAL_DMA_ACCESSED_FIFO 0x08</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="uart_8c.html#a7018e1e74723032a45448e320dd89936">  113</a></span>&#160;<span class="preprocessor">#define SERIAL_FIFO_DEPTH_14     0x00</span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="uart_8c.html#a4dde9b9b638a98af4035c66bfb5dfebc">  115</a></span>&#160;<span class="preprocessor">#define SERIAL_FIFO_DEPTH_64     0x10</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="uart_8c.html#a8351903aa481452402cad5df0a8aa26b">  123</a></span>&#160;<span class="preprocessor">#define SERIAL_DATA_PORT(port)          (port)</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="uart_8c.html#a8d60baa849072d23cd603ae759305324">  130</a></span>&#160;<span class="preprocessor">#define SERIAL_DATA_PORT_2(port)        (port + 1)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="uart_8c.html#a5ec9e2db08925548507011ff925b9144">  137</a></span>&#160;<span class="preprocessor">#define SERIAL_FIFO_COMMAND_PORT(port)  (port + 2)</span></div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="uart_8c.html#a2c43926d233806ee5e61a65d918db34d">  144</a></span>&#160;<span class="preprocessor">#define SERIAL_LINE_COMMAND_PORT(port)  (port + 3)</span></div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="uart_8c.html#a0945f52a518604a02f87e33a10a59df7">  151</a></span>&#160;<span class="preprocessor">#define SERIAL_MODEM_COMMAND_PORT(port) (port + 4)</span></div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="uart_8c.html#af50c4f78311a57efbc1cfa3c694b1e77">  158</a></span>&#160;<span class="preprocessor">#define SERIAL_LINE_STATUS_PORT(port)   (port + 5)</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"> * STRUCTURES AND TYPES</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842f">  167</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa649a1229bb2eb57d0be8a80fe824aae9">  170</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa649a1229bb2eb57d0be8a80fe824aae9">BAURDATE_50</a>     = 2304,</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa0d159d9a1aa934e978497e70fc598160">  172</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa0d159d9a1aa934e978497e70fc598160">BAUDRATE_75</a>     = 1536,</div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842faad67725e89462654dd5f687cdd776092">  174</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842faad67725e89462654dd5f687cdd776092">BAUDRATE_150</a>    = 768,</div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa1dfed302a249d5d472d9a39aa11afdcd">  176</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa1dfed302a249d5d472d9a39aa11afdcd">BAUDRATE_300</a>    = 384,</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa32ec63c5760f2d9ddc1d90c1d3d84f75">  178</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa32ec63c5760f2d9ddc1d90c1d3d84f75">BAUDRATE_600</a>    = 192,</div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fac3b902a0c54578ee8e732d61ca330415">  180</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fac3b902a0c54578ee8e732d61ca330415">BAUDRATE_1200</a>   = 96,</div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fad7bdd6696316e62c77c3edd447cf5854">  182</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fad7bdd6696316e62c77c3edd447cf5854">BAUDRATE_1800</a>   = 64,</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842faf75b6bf10bafe82b79c9afd065eb48d9">  184</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842faf75b6bf10bafe82b79c9afd065eb48d9">BAUDRATE_2400</a>   = 48,</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fabeff4d0442f2d2e14dcfaf6cc28306af">  186</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fabeff4d0442f2d2e14dcfaf6cc28306af">BAUDRATE_4800</a>   = 24,</div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa33a90321f934176874fce95787023c77">  188</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa33a90321f934176874fce95787023c77">BAUDRATE_7200</a>   = 16,</div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa269fd588c1f05f78ec00345ee464690c">  190</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa269fd588c1f05f78ec00345ee464690c">BAUDRATE_9600</a>   = 12,</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fad7b08eb1b83834871da8caed89634914">  192</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fad7b08eb1b83834871da8caed89634914">BAUDRATE_14400</a>  = 8,</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa0a793a8d7b4c0c7b3667a20750ba6dcd">  194</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa0a793a8d7b4c0c7b3667a20750ba6dcd">BAUDRATE_19200</a>  = 6,</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fab6992595f5799026f56f62688d3d928b">  196</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fab6992595f5799026f56f62688d3d928b">BAUDRATE_38400</a>  = 3,</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa9f210b73ceb88265b53e278af7c62ee9">  198</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa9f210b73ceb88265b53e278af7c62ee9">BAUDRATE_57600</a>  = 2,</div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa6e697dd0f979fbfd5ab8e8fc9518a5c8">  200</a></span>&#160;    <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa6e697dd0f979fbfd5ab8e8fc9518a5c8">BAUDRATE_115200</a> = 1,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;} <a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842f">SERIAL_BAUDRATE_E</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"> * MACROS</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">/* None */</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"> * GLOBAL VARIABLES</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">/************************* Imported global variables **************************/</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">/* None */</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">/************************* Exported global variables **************************/</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">/* None */</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">/************************** Static global variables ***************************/</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="uart_8c.html#a6e287c3ecf1c1048b39754aa904a7ade">  224</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structkernel__console__driver__t.html">kernel_console_driver_t</a> <a class="code" href="uart_8c.html#a6e287c3ecf1c1048b39754aa904a7ade">uart_text_driver</a> =</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    .<a class="code" href="structkernel__console__driver__t.html#a2792aa87bb7b0d208a580bbb43b17436">clear_screen</a>           = <a class="code" href="uart_8c.html#a78501d1b2ed8ddf3b64df0394809fa95">uart_clear_screen</a>,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    .put_cursor_at          = <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    .save_cursor            = <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    .restore_cursor         = <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    .scroll                 = <a class="code" href="uart_8c.html#a06f97feee6f014ed63518f7d90ef22ad">uart_scroll</a>,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    .set_color_scheme       = <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    .save_color_scheme      = <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    .put_string             = <a class="code" href="uart_8c.html#a99bf7343080342666bd756f9bf43e57b">uart_put_string</a>,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    .put_char               = <a class="code" href="uart_8c.html#a8cabbb5557ab59792c7d3b94bab8f44d">uart_put_char</a>,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;};</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="uart_8c.html#a6c69075306338c5ec690885f06841bf6">  238</a></span>&#160;<span class="keyword">static</span> <a class="code" href="stdint_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> <a class="code" href="uart_8c.html#a6c69075306338c5ec690885f06841bf6">uart_lock</a> = <a class="code" href="i386_2includes_2critical_8h.html#ac7b5bae0ac6bf9643c96307b6443349e">KERNEL_SPINLOCK_INIT_VALUE</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"> * STATIC FUNCTIONS DECLARATIONS</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="uart_8c.html#ad93f2889448039719ac493691f4af6e3">_set_line</a>(<span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> attr, <span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> com);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="uart_8c.html#a27adedb5a1378a7d12e083f805b22543">_set_buffer</a>(<span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> attr, <span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> com);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="uart_8c.html#ab27fb7ed76ef2558aa9141e6df6640d1">_set_baudrate</a>(<a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842f">SERIAL_BAUDRATE_E</a> rate, <span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> com);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="uart_8c.html#a2770f3ec334410d2a0e4e9cd22405c7f">_uart_write</a>(<span class="keyword">const</span> <a class="code" href="stdint_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> port, <span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> data);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"> * FUNCTIONS</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="uart_8c.html#ad93f2889448039719ac493691f4af6e3">  292</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="uart_8c.html#ad93f2889448039719ac493691f4af6e3">_set_line</a>(<span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> attr, <span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> com)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>(attr, <a class="code" href="uart_8c.html#a2c43926d233806ee5e61a65d918db34d">SERIAL_LINE_COMMAND_PORT</a>(com));</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="kernel__output_8h.html#ad5a087734220dd655d1effaa240275fa">KERNEL_DEBUG</a>(<a class="code" href="config_8h.html#a1e5c4ffc9edc982d143d596fe5de7d85">SERIAL_DEBUG_ENABLED</a>, <a class="code" href="uart_8c.html#a14ded244c47bbba850a8a4be6d16c7e3">MODULE_NAME</a>,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                 <span class="stringliteral">&quot;Set line attributes of port 0x%04x to %u&quot;</span>,</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                 com, attr);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="uart_8c.html#a27adedb5a1378a7d12e083f805b22543">  301</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="uart_8c.html#a27adedb5a1378a7d12e083f805b22543">_set_buffer</a>(<span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> attr, <span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> com)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;{</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>(attr, <a class="code" href="uart_8c.html#a5ec9e2db08925548507011ff925b9144">SERIAL_FIFO_COMMAND_PORT</a>(com));</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="kernel__output_8h.html#ad5a087734220dd655d1effaa240275fa">KERNEL_DEBUG</a>(<a class="code" href="config_8h.html#a1e5c4ffc9edc982d143d596fe5de7d85">SERIAL_DEBUG_ENABLED</a>, <a class="code" href="uart_8c.html#a14ded244c47bbba850a8a4be6d16c7e3">MODULE_NAME</a>,</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                 <span class="stringliteral">&quot;Set buffer attributes of port 0x%04x to %u&quot;</span>,</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                 com, attr);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="uart_8c.html#ab27fb7ed76ef2558aa9141e6df6640d1">  310</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="uart_8c.html#ab27fb7ed76ef2558aa9141e6df6640d1">_set_baudrate</a>(<a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842f">SERIAL_BAUDRATE_E</a> rate, <span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> com)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>(<a class="code" href="uart_8c.html#a873382b43e1973a22b6ce75f02c6a182">SERIAL_DLAB_ENABLED</a>, <a class="code" href="uart_8c.html#a2c43926d233806ee5e61a65d918db34d">SERIAL_LINE_COMMAND_PORT</a>(com));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>((rate &gt;&gt; 8) &amp; 0x00FF, <a class="code" href="uart_8c.html#a8351903aa481452402cad5df0a8aa26b">SERIAL_DATA_PORT</a>(com));</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>(rate &amp; 0x00FF, <a class="code" href="uart_8c.html#a8d60baa849072d23cd603ae759305324">SERIAL_DATA_PORT_2</a>(com));</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="kernel__output_8h.html#ad5a087734220dd655d1effaa240275fa">KERNEL_DEBUG</a>(<a class="code" href="config_8h.html#a1e5c4ffc9edc982d143d596fe5de7d85">SERIAL_DEBUG_ENABLED</a>, <a class="code" href="uart_8c.html#a14ded244c47bbba850a8a4be6d16c7e3">MODULE_NAME</a>,</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                 <span class="stringliteral">&quot;Set baud rate of port 0x%04x to %u&quot;</span>,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                 com, rate);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="uart_8c.html#a2770f3ec334410d2a0e4e9cd22405c7f">  321</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="uart_8c.html#a2770f3ec334410d2a0e4e9cd22405c7f">_uart_write</a>(<span class="keyword">const</span> <a class="code" href="stdint_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> port, <span class="keyword">const</span> <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> data)</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">/* Wait for empty transmit */</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="i386_2includes_2critical_8h.html#afc18a2eb9d5b2afb44672643979d1b7b">KERNEL_SPINLOCK_LOCK</a>(<a class="code" href="uart_8c.html#a6c69075306338c5ec690885f06841bf6">uart_lock</a>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">while</span>((<a class="code" href="i386_2includes_2cpu_8h.html#ab68a8993c94988006c9c293ea0b34a7d">_cpu_inb</a>(<a class="code" href="uart_8c.html#af50c4f78311a57efbc1cfa3c694b1e77">SERIAL_LINE_STATUS_PORT</a>(port)) &amp; 0x20) == 0){}</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span>(data == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>(<span class="charliteral">&#39;\r&#39;</span>, port);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>(<span class="charliteral">&#39;\n&#39;</span>, port);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>(data, port);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="i386_2includes_2critical_8h.html#a798aa26dc1e0955043891f3fd05ae09d">KERNEL_SPINLOCK_UNLOCK</a>(<a class="code" href="uart_8c.html#a6c69075306338c5ec690885f06841bf6">uart_lock</a>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="uart_8h.html#a0c0ca72359ddf28dcd15900dfba19343">  339</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="uart_8c.html#a0c0ca72359ddf28dcd15900dfba19343">uart_init</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> i;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="tracing_8h.html#a631034fc8d54090aa7f8fca47f5f4d58">KERNEL_TRACE_EVENT</a>(EVENT_KERNEL_UART_INIT_START, 0);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">/* Init all comm ports */</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; 4; ++i)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>  attr;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="stdint_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> com;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">if</span>(i == 0)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            com = <a class="code" href="uart_8c.html#a34365e17c472073dfba3681bb38054f3">SERIAL_COM1_BASE</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(i == 1)</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            com = <a class="code" href="uart_8c.html#a1c2c6ce60cb9ef295cd0272b59196f82">SERIAL_COM2_BASE</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(i == 2)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            com = <a class="code" href="uart_8c.html#aa468a88b2acccde9bbf5e401f5d88eaf">SERIAL_COM3_BASE</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(i == 3)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            com = <a class="code" href="uart_8c.html#acebbaec5ade4a12ee12ff0587a86ed94">SERIAL_COM4_BASE</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            com = <a class="code" href="uart_8c.html#a34365e17c472073dfba3681bb38054f3">SERIAL_COM1_BASE</a>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        attr = <a class="code" href="uart_8c.html#ab7d8c6b3660b431109c909755e457c26">SERIAL_DATA_LENGTH_8</a> | <a class="code" href="uart_8c.html#a1e1822ba21f5e720c09e1712576413f4">SERIAL_STOP_BIT_1</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="comment">/* Enable interrupt on recv for COM1 and COM2 */</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">if</span>(com == <a class="code" href="uart_8c.html#a34365e17c472073dfba3681bb38054f3">SERIAL_COM1_BASE</a> || com == <a class="code" href="uart_8c.html#a1c2c6ce60cb9ef295cd0272b59196f82">SERIAL_COM2_BASE</a>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>(0x01, <a class="code" href="uart_8c.html#a8d60baa849072d23cd603ae759305324">SERIAL_DATA_PORT_2</a>(com));</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>(0x00, <a class="code" href="uart_8c.html#a8d60baa849072d23cd603ae759305324">SERIAL_DATA_PORT_2</a>(com));</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="comment">/* Init line */</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="uart_8c.html#ab27fb7ed76ef2558aa9141e6df6640d1">_set_baudrate</a>(<a class="code" href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa6e697dd0f979fbfd5ab8e8fc9518a5c8">BAUDRATE_115200</a>, com);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <a class="code" href="uart_8c.html#ad93f2889448039719ac493691f4af6e3">_set_line</a>(attr, com);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <a class="code" href="uart_8c.html#a27adedb5a1378a7d12e083f805b22543">_set_buffer</a>(0xC0 | <a class="code" href="uart_8c.html#ac9e29bed47741802d3a895b7d43e3962">SERIAL_ENABLE_FIFO</a> | <a class="code" href="uart_8c.html#a2a60628f88ee6bc4c4259f29a0bd770d">SERIAL_CLEAR_RECV_FIFO</a> |</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                    <a class="code" href="uart_8c.html#af80ebedb3b15dbd522485b6b69530721">SERIAL_CLEAR_SEND_FIFO</a> | <a class="code" href="uart_8c.html#a7018e1e74723032a45448e320dd89936">SERIAL_FIFO_DEPTH_14</a>, com);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="comment">/* Enable interrupt */</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a>(0x0B, <a class="code" href="uart_8c.html#a0945f52a518604a02f87e33a10a59df7">SERIAL_MODEM_COMMAND_PORT</a>(com));</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="tracing_8h.html#a631034fc8d54090aa7f8fca47f5f4d58">KERNEL_TRACE_EVENT</a>(EVENT_KERNEL_UART_INIT_END, 0);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="kernel__output_8h.html#ad5a087734220dd655d1effaa240275fa">KERNEL_DEBUG</a>(<a class="code" href="config_8h.html#a1e5c4ffc9edc982d143d596fe5de7d85">SERIAL_DEBUG_ENABLED</a>, <a class="code" href="uart_8c.html#a14ded244c47bbba850a8a4be6d16c7e3">MODULE_NAME</a>, <span class="stringliteral">&quot;UART Initialized&quot;</span>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="uart_8h.html#a78501d1b2ed8ddf3b64df0394809fa95">  398</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="uart_8c.html#a78501d1b2ed8ddf3b64df0394809fa95">uart_clear_screen</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> i;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">/* On 80x25 screen, just print 25 line feed. */</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; 25; ++i)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <a class="code" href="uart_8c.html#a2770f3ec334410d2a0e4e9cd22405c7f">_uart_write</a>(<a class="code" href="uart_8c.html#a15e96ed0b7a1a56e593f838c424e1635">SERIAL_OUTPUT_PORT</a>, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="uart_8h.html#a06f97feee6f014ed63518f7d90ef22ad">  409</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="uart_8c.html#a06f97feee6f014ed63518f7d90ef22ad">uart_scroll</a>(<span class="keyword">const</span> <a class="code" href="console_8h.html#a231275c56ad6d89801f3399e93c185d0">SCROLL_DIRECTION_E</a> direction,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                 <span class="keyword">const</span> <a class="code" href="stdint_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> lines_count)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="stdint_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> i;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span>(direction == <a class="code" href="console_8h.html#a231275c56ad6d89801f3399e93c185d0a9d522bb191bf21bcaace5569ec49475d">SCROLL_DOWN</a>)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="comment">/* Just print lines_count line feed. */</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; lines_count; ++i)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <a class="code" href="uart_8c.html#a2770f3ec334410d2a0e4e9cd22405c7f">_uart_write</a>(<a class="code" href="uart_8c.html#a15e96ed0b7a1a56e593f838c424e1635">SERIAL_OUTPUT_PORT</a>, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="uart_8h.html#a58f7b6ef9b4e43d05d53758b91d9ae58">  424</a></span>&#160;<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="uart_8c.html#a58f7b6ef9b4e43d05d53758b91d9ae58">uart_read</a>(<span class="keyword">const</span> <a class="code" href="stdint_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> port)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>  val;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">/* Wait for data to be received */</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="i386_2includes_2critical_8h.html#afc18a2eb9d5b2afb44672643979d1b7b">KERNEL_SPINLOCK_LOCK</a>(<a class="code" href="uart_8c.html#a6c69075306338c5ec690885f06841bf6">uart_lock</a>);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="uart_8c.html#a9c7bbcd9f20468c6ce7cfb05f954f0b5">uart_received</a>(port) == 0){}</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">/* Read available data on port */</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    val = <a class="code" href="i386_2includes_2cpu_8h.html#ab68a8993c94988006c9c293ea0b34a7d">_cpu_inb</a>(<a class="code" href="uart_8c.html#a8351903aa481452402cad5df0a8aa26b">SERIAL_DATA_PORT</a>(port));</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="i386_2includes_2critical_8h.html#a798aa26dc1e0955043891f3fd05ae09d">KERNEL_SPINLOCK_UNLOCK</a>(<a class="code" href="uart_8c.html#a6c69075306338c5ec690885f06841bf6">uart_lock</a>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="uart_8h.html#a99bf7343080342666bd756f9bf43e57b">  441</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="uart_8c.html#a99bf7343080342666bd756f9bf43e57b">uart_put_string</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">string</span>)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="string_8h.html#a219836f542ce53545052bed5353820ca">strlen</a>(<span class="keywordtype">string</span>); ++i)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="uart_8c.html#a2770f3ec334410d2a0e4e9cd22405c7f">_uart_write</a>(<a class="code" href="uart_8c.html#a15e96ed0b7a1a56e593f838c424e1635">SERIAL_OUTPUT_PORT</a>, <span class="keywordtype">string</span>[i]);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="uart_8h.html#a8cabbb5557ab59792c7d3b94bab8f44d">  450</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="uart_8c.html#a8cabbb5557ab59792c7d3b94bab8f44d">uart_put_char</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> character)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="uart_8c.html#a2770f3ec334410d2a0e4e9cd22405c7f">_uart_write</a>(<a class="code" href="uart_8c.html#a15e96ed0b7a1a56e593f838c424e1635">SERIAL_OUTPUT_PORT</a>, character);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="uart_8h.html#a9c7bbcd9f20468c6ce7cfb05f954f0b5">  455</a></span>&#160;<a class="code" href="stdint_8h.html#a57c3b7201116536b822f0f8520aa99c7">bool_t</a> <a class="code" href="uart_8c.html#a9c7bbcd9f20468c6ce7cfb05f954f0b5">uart_received</a>(<span class="keyword">const</span> <a class="code" href="stdint_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> port)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;{</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="stdint_8h.html#a57c3b7201116536b822f0f8520aa99c7">bool_t</a>   ret;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">/* Read on LINE status port */</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    ret = <a class="code" href="i386_2includes_2cpu_8h.html#ab68a8993c94988006c9c293ea0b34a7d">_cpu_inb</a>(<a class="code" href="uart_8c.html#af50c4f78311a57efbc1cfa3c694b1e77">SERIAL_LINE_STATUS_PORT</a>(port)) &amp; 0x01;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="uart_8h.html#ab15d3cac777266e01b336b56ea841442">  465</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structkernel__console__driver__t.html">kernel_console_driver_t</a>* <a class="code" href="uart_8c.html#ab15d3cac777266e01b336b56ea841442">uart_get_driver</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;{</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="uart_8c.html#a6e287c3ecf1c1048b39754aa904a7ade">uart_text_driver</a>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">/************************************ EOF *************************************/</span></div>
<div class="ttc" id="aconfig_8h_html"><div class="ttname"><a href="config_8h.html">config.h</a></div></div>
<div class="ttc" id="aconfig_8h_html_a1e5c4ffc9edc982d143d596fe5de7d85"><div class="ttname"><a href="config_8h.html#a1e5c4ffc9edc982d143d596fe5de7d85">SERIAL_DEBUG_ENABLED</a></div><div class="ttdeci">#define SERIAL_DEBUG_ENABLED</div><div class="ttdef"><b>Definition:</b> <a href="config_8h_source.html#l00092">config.h:92</a></div></div>
<div class="ttc" id="aconsole_8h_html"><div class="ttname"><a href="console_8h.html">console.h</a></div></div>
<div class="ttc" id="aconsole_8h_html_a231275c56ad6d89801f3399e93c185d0"><div class="ttname"><a href="console_8h.html#a231275c56ad6d89801f3399e93c185d0">SCROLL_DIRECTION_E</a></div><div class="ttdeci">SCROLL_DIRECTION_E</div><div class="ttdoc">Scroll direction enumeration, enumerates all the possible scrolling direction supported by the driver...</div><div class="ttdef"><b>Definition:</b> <a href="console_8h_source.html#l00046">console.h:47</a></div></div>
<div class="ttc" id="aconsole_8h_html_a231275c56ad6d89801f3399e93c185d0a9d522bb191bf21bcaace5569ec49475d"><div class="ttname"><a href="console_8h.html#a231275c56ad6d89801f3399e93c185d0a9d522bb191bf21bcaace5569ec49475d">SCROLL_DOWN</a></div><div class="ttdeci">@ SCROLL_DOWN</div><div class="ttdoc">Scroll down direction.</div><div class="ttdef"><b>Definition:</b> <a href="console_8h_source.html#l00049">console.h:49</a></div></div>
<div class="ttc" id="ai386_2includes_2cpu_8h_html_a2ef47a109d3008dc259d058f4fd85a34"><div class="ttname"><a href="i386_2includes_2cpu_8h.html#a2ef47a109d3008dc259d058f4fd85a34">_cpu_outb</a></div><div class="ttdeci">static void _cpu_outb(const uint8_t value, const uint16_t port)</div><div class="ttdoc">Writes byte on port.</div><div class="ttdef"><b>Definition:</b> <a href="i386_2includes_2cpu_8h_source.html#l00239">cpu.h:239</a></div></div>
<div class="ttc" id="ai386_2includes_2cpu_8h_html_ab68a8993c94988006c9c293ea0b34a7d"><div class="ttname"><a href="i386_2includes_2cpu_8h.html#ab68a8993c94988006c9c293ea0b34a7d">_cpu_inb</a></div><div class="ttdeci">static uint8_t _cpu_inb(const uint16_t port)</div><div class="ttdoc">Reads byte on port.</div><div class="ttdef"><b>Definition:</b> <a href="i386_2includes_2cpu_8h_source.html#l00273">cpu.h:273</a></div></div>
<div class="ttc" id="ai386_2includes_2critical_8h_html_a798aa26dc1e0955043891f3fd05ae09d"><div class="ttname"><a href="i386_2includes_2critical_8h.html#a798aa26dc1e0955043891f3fd05ae09d">KERNEL_SPINLOCK_UNLOCK</a></div><div class="ttdeci">#define KERNEL_SPINLOCK_UNLOCK(LOCK)</div><div class="ttdoc">Unlocks a spinlock.</div><div class="ttdef"><b>Definition:</b> <a href="i386_2includes_2critical_8h_source.html#l00087">critical.h:87</a></div></div>
<div class="ttc" id="ai386_2includes_2critical_8h_html_ac7b5bae0ac6bf9643c96307b6443349e"><div class="ttname"><a href="i386_2includes_2critical_8h.html#ac7b5bae0ac6bf9643c96307b6443349e">KERNEL_SPINLOCK_INIT_VALUE</a></div><div class="ttdeci">#define KERNEL_SPINLOCK_INIT_VALUE</div><div class="ttdoc">Kernel spinlock initializer.</div><div class="ttdef"><b>Definition:</b> <a href="i386_2includes_2critical_8h_source.html#l00103">critical.h:103</a></div></div>
<div class="ttc" id="ai386_2includes_2critical_8h_html_afc18a2eb9d5b2afb44672643979d1b7b"><div class="ttname"><a href="i386_2includes_2critical_8h.html#afc18a2eb9d5b2afb44672643979d1b7b">KERNEL_SPINLOCK_LOCK</a></div><div class="ttdeci">#define KERNEL_SPINLOCK_LOCK(LOCK)</div><div class="ttdoc">Locks a spinlock.</div><div class="ttdef"><b>Definition:</b> <a href="i386_2includes_2critical_8h_source.html#l00076">critical.h:76</a></div></div>
<div class="ttc" id="akernel__output_8h_html"><div class="ttname"><a href="kernel__output_8h.html">kernel_output.h</a></div></div>
<div class="ttc" id="akernel__output_8h_html_ad5a087734220dd655d1effaa240275fa"><div class="ttname"><a href="kernel__output_8h.html#ad5a087734220dd655d1effaa240275fa">KERNEL_DEBUG</a></div><div class="ttdeci">#define KERNEL_DEBUG(ENABLED, MODULE, STR,...)</div><div class="ttdef"><b>Definition:</b> <a href="kernel__output_8h_source.html#l00063">kernel_output.h:63</a></div></div>
<div class="ttc" id="astddef_8h_html"><div class="ttname"><a href="stddef_8h.html">stddef.h</a></div></div>
<div class="ttc" id="astddef_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdoc">UTK's NULL definition.</div><div class="ttdef"><b>Definition:</b> <a href="stddef_8h_source.html#l00032">stddef.h:32</a></div></div>
<div class="ttc" id="astdint_8h_html"><div class="ttname"><a href="stdint_8h.html">stdint.h</a></div></div>
<div class="ttc" id="astdint_8h_html_a324c5d28c0d82f502a234ab99efac87a"><div class="ttname"><a href="stdint_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a></div><div class="ttdeci">unsigned uint32_t</div><div class="ttdoc">Defines uint32_t type as an exact width 32 bits integer.</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00093">stdint.h:93</a></div></div>
<div class="ttc" id="astdint_8h_html_a57c3b7201116536b822f0f8520aa99c7"><div class="ttname"><a href="stdint_8h.html#a57c3b7201116536b822f0f8520aa99c7">bool_t</a></div><div class="ttdeci">uint8_t bool_t</div><div class="ttdoc">Defines the boot_t type.</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00104">stdint.h:104</a></div></div>
<div class="ttc" id="astdint_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdoc">Defines uint8_t type as an exact width 8 bits integer.</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00077">stdint.h:77</a></div></div>
<div class="ttc" id="astring_8h_html"><div class="ttname"><a href="string_8h.html">string.h</a></div></div>
<div class="ttc" id="astring_8h_html_a219836f542ce53545052bed5353820ca"><div class="ttname"><a href="string_8h.html#a219836f542ce53545052bed5353820ca">strlen</a></div><div class="ttdeci">size_t strlen(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="strlen_8c_source.html#l00073">strlen.c:73</a></div></div>
<div class="ttc" id="astructkernel__console__driver__t_html"><div class="ttname"><a href="structkernel__console__driver__t.html">kernel_console_driver_t</a></div><div class="ttdoc">The kernel's console driver abstraction.</div><div class="ttdef"><b>Definition:</b> <a href="console_8h_source.html#l00087">console.h:88</a></div></div>
<div class="ttc" id="astructkernel__console__driver__t_html_a2792aa87bb7b0d208a580bbb43b17436"><div class="ttname"><a href="structkernel__console__driver__t.html#a2792aa87bb7b0d208a580bbb43b17436">kernel_console_driver_t::clear_screen</a></div><div class="ttdeci">void(* clear_screen)(void)</div><div class="ttdoc">Clears the screen, the background color is set to black.</div><div class="ttdef"><b>Definition:</b> <a href="console_8h_source.html#l00092">console.h:92</a></div></div>
<div class="ttc" id="atracing_8h_html_a631034fc8d54090aa7f8fca47f5f4d58"><div class="ttname"><a href="tracing_8h.html#a631034fc8d54090aa7f8fca47f5f4d58">KERNEL_TRACE_EVENT</a></div><div class="ttdeci">#define KERNEL_TRACE_EVENT(...)</div><div class="ttdef"><b>Definition:</b> <a href="tracing_8h_source.html#l00061">tracing.h:61</a></div></div>
<div class="ttc" id="auart_8c_html_a06f97feee6f014ed63518f7d90ef22ad"><div class="ttname"><a href="uart_8c.html#a06f97feee6f014ed63518f7d90ef22ad">uart_scroll</a></div><div class="ttdeci">void uart_scroll(const SCROLL_DIRECTION_E direction, const uint32_t lines_count)</div><div class="ttdoc">Scrolls the screen downn.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00409">uart.c:409</a></div></div>
<div class="ttc" id="auart_8c_html_a0945f52a518604a02f87e33a10a59df7"><div class="ttname"><a href="uart_8c.html#a0945f52a518604a02f87e33a10a59df7">SERIAL_MODEM_COMMAND_PORT</a></div><div class="ttdeci">#define SERIAL_MODEM_COMMAND_PORT(port)</div><div class="ttdoc">Computes the modem command port for the serial port which base port ID is given as parameter.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00151">uart.c:151</a></div></div>
<div class="ttc" id="auart_8c_html_a0c0ca72359ddf28dcd15900dfba19343"><div class="ttname"><a href="uart_8c.html#a0c0ca72359ddf28dcd15900dfba19343">uart_init</a></div><div class="ttdeci">void uart_init(void)</div><div class="ttdoc">Initializes the uart driver structures and hardware.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00339">uart.c:339</a></div></div>
<div class="ttc" id="auart_8c_html_a14ded244c47bbba850a8a4be6d16c7e3"><div class="ttname"><a href="uart_8c.html#a14ded244c47bbba850a8a4be6d16c7e3">MODULE_NAME</a></div><div class="ttdeci">#define MODULE_NAME</div><div class="ttdoc">Current module name.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00045">uart.c:45</a></div></div>
<div class="ttc" id="auart_8c_html_a15e96ed0b7a1a56e593f838c424e1635"><div class="ttname"><a href="uart_8c.html#a15e96ed0b7a1a56e593f838c424e1635">SERIAL_OUTPUT_PORT</a></div><div class="ttdeci">#define SERIAL_OUTPUT_PORT</div><div class="ttdoc">Defines the port that is used to print data.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00066">uart.c:66</a></div></div>
<div class="ttc" id="auart_8c_html_a1c2c6ce60cb9ef295cd0272b59196f82"><div class="ttname"><a href="uart_8c.html#a1c2c6ce60cb9ef295cd0272b59196f82">SERIAL_COM2_BASE</a></div><div class="ttdeci">#define SERIAL_COM2_BASE</div><div class="ttdoc">Serial COM2 base port ID.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00050">uart.c:50</a></div></div>
<div class="ttc" id="auart_8c_html_a1e1822ba21f5e720c09e1712576413f4"><div class="ttname"><a href="uart_8c.html#a1e1822ba21f5e720c09e1712576413f4">SERIAL_STOP_BIT_1</a></div><div class="ttdeci">#define SERIAL_STOP_BIT_1</div><div class="ttdoc">Serial parity bit flag: 1 bit.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00078">uart.c:78</a></div></div>
<div class="ttc" id="auart_8c_html_a2770f3ec334410d2a0e4e9cd22405c7f"><div class="ttname"><a href="uart_8c.html#a2770f3ec334410d2a0e4e9cd22405c7f">_uart_write</a></div><div class="ttdeci">static void _uart_write(const uint32_t port, const uint8_t data)</div><div class="ttdoc">Writes the data given as patameter on the desired port.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00321">uart.c:321</a></div></div>
<div class="ttc" id="auart_8c_html_a27adedb5a1378a7d12e083f805b22543"><div class="ttname"><a href="uart_8c.html#a27adedb5a1378a7d12e083f805b22543">_set_buffer</a></div><div class="ttdeci">static void _set_buffer(const uint8_t attr, const uint8_t com)</div><div class="ttdoc">Sets buffer parameters for the desired port.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00301">uart.c:301</a></div></div>
<div class="ttc" id="auart_8c_html_a2a60628f88ee6bc4c4259f29a0bd770d"><div class="ttname"><a href="uart_8c.html#a2a60628f88ee6bc4c4259f29a0bd770d">SERIAL_CLEAR_RECV_FIFO</a></div><div class="ttdeci">#define SERIAL_CLEAR_RECV_FIFO</div><div class="ttdoc">Serial fifo clear receive flag.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00106">uart.c:106</a></div></div>
<div class="ttc" id="auart_8c_html_a2c43926d233806ee5e61a65d918db34d"><div class="ttname"><a href="uart_8c.html#a2c43926d233806ee5e61a65d918db34d">SERIAL_LINE_COMMAND_PORT</a></div><div class="ttdeci">#define SERIAL_LINE_COMMAND_PORT(port)</div><div class="ttdoc">Computes the line command port for the serial port which base port ID is given as parameter.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00144">uart.c:144</a></div></div>
<div class="ttc" id="auart_8c_html_a34365e17c472073dfba3681bb38054f3"><div class="ttname"><a href="uart_8c.html#a34365e17c472073dfba3681bb38054f3">SERIAL_COM1_BASE</a></div><div class="ttdeci">#define SERIAL_COM1_BASE</div><div class="ttdoc">Serial COM1 base port ID.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00048">uart.c:48</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842f"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842f">SERIAL_BAUDRATE_E</a></div><div class="ttdeci">SERIAL_BAUDRATE_E</div><div class="ttdoc">Serial baudrate enumation. Enumerates all the supported baudrates. The value of the enumeration is th...</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00167">uart.c:168</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fa0a793a8d7b4c0c7b3667a20750ba6dcd"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa0a793a8d7b4c0c7b3667a20750ba6dcd">BAUDRATE_19200</a></div><div class="ttdeci">@ BAUDRATE_19200</div><div class="ttdoc">Baudrate 19200Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00194">uart.c:194</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fa0d159d9a1aa934e978497e70fc598160"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa0d159d9a1aa934e978497e70fc598160">BAUDRATE_75</a></div><div class="ttdeci">@ BAUDRATE_75</div><div class="ttdoc">Baudrate 75Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00172">uart.c:172</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fa1dfed302a249d5d472d9a39aa11afdcd"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa1dfed302a249d5d472d9a39aa11afdcd">BAUDRATE_300</a></div><div class="ttdeci">@ BAUDRATE_300</div><div class="ttdoc">Baudrate 300Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00176">uart.c:176</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fa269fd588c1f05f78ec00345ee464690c"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa269fd588c1f05f78ec00345ee464690c">BAUDRATE_9600</a></div><div class="ttdeci">@ BAUDRATE_9600</div><div class="ttdoc">Baudrate 9600Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00190">uart.c:190</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fa32ec63c5760f2d9ddc1d90c1d3d84f75"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa32ec63c5760f2d9ddc1d90c1d3d84f75">BAUDRATE_600</a></div><div class="ttdeci">@ BAUDRATE_600</div><div class="ttdoc">Baudrate 600Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00178">uart.c:178</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fa33a90321f934176874fce95787023c77"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa33a90321f934176874fce95787023c77">BAUDRATE_7200</a></div><div class="ttdeci">@ BAUDRATE_7200</div><div class="ttdoc">Baudrate 7200Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00188">uart.c:188</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fa649a1229bb2eb57d0be8a80fe824aae9"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa649a1229bb2eb57d0be8a80fe824aae9">BAURDATE_50</a></div><div class="ttdeci">@ BAURDATE_50</div><div class="ttdoc">Baudrate 50Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00170">uart.c:170</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fa6e697dd0f979fbfd5ab8e8fc9518a5c8"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa6e697dd0f979fbfd5ab8e8fc9518a5c8">BAUDRATE_115200</a></div><div class="ttdeci">@ BAUDRATE_115200</div><div class="ttdoc">Baudrate 115200Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00200">uart.c:200</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fa9f210b73ceb88265b53e278af7c62ee9"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fa9f210b73ceb88265b53e278af7c62ee9">BAUDRATE_57600</a></div><div class="ttdeci">@ BAUDRATE_57600</div><div class="ttdoc">Baudrate 57600Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00198">uart.c:198</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842faad67725e89462654dd5f687cdd776092"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842faad67725e89462654dd5f687cdd776092">BAUDRATE_150</a></div><div class="ttdeci">@ BAUDRATE_150</div><div class="ttdoc">Baudrate 150Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00174">uart.c:174</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fab6992595f5799026f56f62688d3d928b"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fab6992595f5799026f56f62688d3d928b">BAUDRATE_38400</a></div><div class="ttdeci">@ BAUDRATE_38400</div><div class="ttdoc">Baudrate 38400Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00196">uart.c:196</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fabeff4d0442f2d2e14dcfaf6cc28306af"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fabeff4d0442f2d2e14dcfaf6cc28306af">BAUDRATE_4800</a></div><div class="ttdeci">@ BAUDRATE_4800</div><div class="ttdoc">Baudrate 4800Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00186">uart.c:186</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fac3b902a0c54578ee8e732d61ca330415"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fac3b902a0c54578ee8e732d61ca330415">BAUDRATE_1200</a></div><div class="ttdeci">@ BAUDRATE_1200</div><div class="ttdoc">Baudrate 1200Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00180">uart.c:180</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fad7b08eb1b83834871da8caed89634914"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fad7b08eb1b83834871da8caed89634914">BAUDRATE_14400</a></div><div class="ttdeci">@ BAUDRATE_14400</div><div class="ttdoc">Baudrate 14400Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00192">uart.c:192</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842fad7bdd6696316e62c77c3edd447cf5854"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842fad7bdd6696316e62c77c3edd447cf5854">BAUDRATE_1800</a></div><div class="ttdeci">@ BAUDRATE_1800</div><div class="ttdoc">Baudrate 1800Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00182">uart.c:182</a></div></div>
<div class="ttc" id="auart_8c_html_a34f7428f2e4db04bbab3e38bbb45842faf75b6bf10bafe82b79c9afd065eb48d9"><div class="ttname"><a href="uart_8c.html#a34f7428f2e4db04bbab3e38bbb45842faf75b6bf10bafe82b79c9afd065eb48d9">BAUDRATE_2400</a></div><div class="ttdeci">@ BAUDRATE_2400</div><div class="ttdoc">Baudrate 2400Bd.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00184">uart.c:184</a></div></div>
<div class="ttc" id="auart_8c_html_a58f7b6ef9b4e43d05d53758b91d9ae58"><div class="ttname"><a href="uart_8c.html#a58f7b6ef9b4e43d05d53758b91d9ae58">uart_read</a></div><div class="ttdeci">uint8_t uart_read(const uint32_t port)</div><div class="ttdoc">Reads a byte from the uart port given as parameter.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00424">uart.c:424</a></div></div>
<div class="ttc" id="auart_8c_html_a5ec9e2db08925548507011ff925b9144"><div class="ttname"><a href="uart_8c.html#a5ec9e2db08925548507011ff925b9144">SERIAL_FIFO_COMMAND_PORT</a></div><div class="ttdeci">#define SERIAL_FIFO_COMMAND_PORT(port)</div><div class="ttdoc">Computes the fifo command port for the serial port which base port ID is given as parameter.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00137">uart.c:137</a></div></div>
<div class="ttc" id="auart_8c_html_a6c69075306338c5ec690885f06841bf6"><div class="ttname"><a href="uart_8c.html#a6c69075306338c5ec690885f06841bf6">uart_lock</a></div><div class="ttdeci">static uint32_t uart_lock</div><div class="ttdoc">Concurrency lock for the uart driver.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00238">uart.c:238</a></div></div>
<div class="ttc" id="auart_8c_html_a6e287c3ecf1c1048b39754aa904a7ade"><div class="ttname"><a href="uart_8c.html#a6e287c3ecf1c1048b39754aa904a7ade">uart_text_driver</a></div><div class="ttdeci">static kernel_console_driver_t uart_text_driver</div><div class="ttdoc">Serial text driver instance.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00224">uart.c:224</a></div></div>
<div class="ttc" id="auart_8c_html_a7018e1e74723032a45448e320dd89936"><div class="ttname"><a href="uart_8c.html#a7018e1e74723032a45448e320dd89936">SERIAL_FIFO_DEPTH_14</a></div><div class="ttdeci">#define SERIAL_FIFO_DEPTH_14</div><div class="ttdoc">Serial fifo depth flag: 14 bits.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00113">uart.c:113</a></div></div>
<div class="ttc" id="auart_8c_html_a78501d1b2ed8ddf3b64df0394809fa95"><div class="ttname"><a href="uart_8c.html#a78501d1b2ed8ddf3b64df0394809fa95">uart_clear_screen</a></div><div class="ttdeci">void uart_clear_screen(void)</div><div class="ttdoc">Clears the screen.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00398">uart.c:398</a></div></div>
<div class="ttc" id="auart_8c_html_a8351903aa481452402cad5df0a8aa26b"><div class="ttname"><a href="uart_8c.html#a8351903aa481452402cad5df0a8aa26b">SERIAL_DATA_PORT</a></div><div class="ttdeci">#define SERIAL_DATA_PORT(port)</div><div class="ttdoc">Computes the data port for the serial port which base port ID is given as parameter.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00123">uart.c:123</a></div></div>
<div class="ttc" id="auart_8c_html_a873382b43e1973a22b6ce75f02c6a182"><div class="ttname"><a href="uart_8c.html#a873382b43e1973a22b6ce75f02c6a182">SERIAL_DLAB_ENABLED</a></div><div class="ttdeci">#define SERIAL_DLAB_ENABLED</div><div class="ttdoc">Serial dlab flag enabled.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00099">uart.c:99</a></div></div>
<div class="ttc" id="auart_8c_html_a8cabbb5557ab59792c7d3b94bab8f44d"><div class="ttname"><a href="uart_8c.html#a8cabbb5557ab59792c7d3b94bab8f44d">uart_put_char</a></div><div class="ttdeci">void uart_put_char(const char character)</div><div class="ttdoc">Write the character given as patameter on the debug port.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00450">uart.c:450</a></div></div>
<div class="ttc" id="auart_8c_html_a8d60baa849072d23cd603ae759305324"><div class="ttname"><a href="uart_8c.html#a8d60baa849072d23cd603ae759305324">SERIAL_DATA_PORT_2</a></div><div class="ttdeci">#define SERIAL_DATA_PORT_2(port)</div><div class="ttdoc">Computes the aux data port for the serial port which base port ID is given as parameter.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00130">uart.c:130</a></div></div>
<div class="ttc" id="auart_8c_html_a99bf7343080342666bd756f9bf43e57b"><div class="ttname"><a href="uart_8c.html#a99bf7343080342666bd756f9bf43e57b">uart_put_string</a></div><div class="ttdeci">void uart_put_string(const char *string)</div><div class="ttdoc">Write the string given as patameter on the debug port.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00441">uart.c:441</a></div></div>
<div class="ttc" id="auart_8c_html_a9c7bbcd9f20468c6ce7cfb05f954f0b5"><div class="ttname"><a href="uart_8c.html#a9c7bbcd9f20468c6ce7cfb05f954f0b5">uart_received</a></div><div class="ttdeci">bool_t uart_received(const uint32_t port)</div><div class="ttdoc">Tells if the data on the uart port are ready to be read.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00455">uart.c:455</a></div></div>
<div class="ttc" id="auart_8c_html_aa468a88b2acccde9bbf5e401f5d88eaf"><div class="ttname"><a href="uart_8c.html#aa468a88b2acccde9bbf5e401f5d88eaf">SERIAL_COM3_BASE</a></div><div class="ttdeci">#define SERIAL_COM3_BASE</div><div class="ttdoc">Serial COM3 base port ID.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00052">uart.c:52</a></div></div>
<div class="ttc" id="auart_8c_html_ab15d3cac777266e01b336b56ea841442"><div class="ttname"><a href="uart_8c.html#ab15d3cac777266e01b336b56ea841442">uart_get_driver</a></div><div class="ttdeci">const kernel_console_driver_t * uart_get_driver(void)</div><div class="ttdoc">Returns the UART graphic driver.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00465">uart.c:465</a></div></div>
<div class="ttc" id="auart_8c_html_ab27fb7ed76ef2558aa9141e6df6640d1"><div class="ttname"><a href="uart_8c.html#ab27fb7ed76ef2558aa9141e6df6640d1">_set_baudrate</a></div><div class="ttdeci">static void _set_baudrate(SERIAL_BAUDRATE_E rate, const uint8_t com)</div><div class="ttdoc">Sets the port's baudrate.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00310">uart.c:310</a></div></div>
<div class="ttc" id="auart_8c_html_ab7d8c6b3660b431109c909755e457c26"><div class="ttname"><a href="uart_8c.html#ab7d8c6b3660b431109c909755e457c26">SERIAL_DATA_LENGTH_8</a></div><div class="ttdeci">#define SERIAL_DATA_LENGTH_8</div><div class="ttdoc">Serial data length flag: 8 bits.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00075">uart.c:75</a></div></div>
<div class="ttc" id="auart_8c_html_ac9e29bed47741802d3a895b7d43e3962"><div class="ttname"><a href="uart_8c.html#ac9e29bed47741802d3a895b7d43e3962">SERIAL_ENABLE_FIFO</a></div><div class="ttdeci">#define SERIAL_ENABLE_FIFO</div><div class="ttdoc">Serial fifo enable flag.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00104">uart.c:104</a></div></div>
<div class="ttc" id="auart_8c_html_acebbaec5ade4a12ee12ff0587a86ed94"><div class="ttname"><a href="uart_8c.html#acebbaec5ade4a12ee12ff0587a86ed94">SERIAL_COM4_BASE</a></div><div class="ttdeci">#define SERIAL_COM4_BASE</div><div class="ttdoc">Serial COM4 base port ID.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00054">uart.c:54</a></div></div>
<div class="ttc" id="auart_8c_html_ad93f2889448039719ac493691f4af6e3"><div class="ttname"><a href="uart_8c.html#ad93f2889448039719ac493691f4af6e3">_set_line</a></div><div class="ttdeci">static void _set_line(const uint8_t attr, const uint8_t com)</div><div class="ttdoc">Sets line parameters for the desired port.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00292">uart.c:292</a></div></div>
<div class="ttc" id="auart_8c_html_af50c4f78311a57efbc1cfa3c694b1e77"><div class="ttname"><a href="uart_8c.html#af50c4f78311a57efbc1cfa3c694b1e77">SERIAL_LINE_STATUS_PORT</a></div><div class="ttdeci">#define SERIAL_LINE_STATUS_PORT(port)</div><div class="ttdoc">Computes the line status port for the serial port which base port ID is given as parameter.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00158">uart.c:158</a></div></div>
<div class="ttc" id="auart_8c_html_af80ebedb3b15dbd522485b6b69530721"><div class="ttname"><a href="uart_8c.html#af80ebedb3b15dbd522485b6b69530721">SERIAL_CLEAR_SEND_FIFO</a></div><div class="ttdeci">#define SERIAL_CLEAR_SEND_FIFO</div><div class="ttdoc">Serial fifo clear send flag.</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00108">uart.c:108</a></div></div>
<div class="ttc" id="auart_8h_html"><div class="ttname"><a href="uart_8h.html">uart.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
