<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UTK - Utility Kernel: Source/Kernel/Libs/libapi/includes/uhashtable.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UTK - Utility Kernel
   &#160;<span id="projectnumber">ver. 0.1</span>
   </div>
   <div id="projectbrief">Utility Kernel</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="dir_6130151139ac5df9513b64611b721a4c.html">Kernel</a></li><li class="navelem"><a class="el" href="dir_eb5dfde06d921986e5bc0e18add6eae7.html">Libs</a></li><li class="navelem"><a class="el" href="dir_170f16bfebcc8ad413b6d8c94fbaf92c.html">libapi</a></li><li class="navelem"><a class="el" href="dir_e54bda0bda4c5334e749e31e6c6c41bf.html">includes</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">uhashtable.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="stddef_8h_source.html">stddef.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="stdint_8h_source.html">stdint.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="kerror_8h_source.html">kerror.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for uhashtable.h:</div>
<div class="dyncontent">
<div class="center"><img src="uhashtable_8h__incl.png" border="0" usemap="#a_source_2_kernel_2_libs_2libapi_2includes_2uhashtable_8h" alt=""/></div>
<map name="a_source_2_kernel_2_libs_2libapi_2includes_2uhashtable_8h" id="a_source_2_kernel_2_libs_2libapi_2includes_2uhashtable_8h">
<area shape="rect" title=" " alt="" coords="109,5,317,47"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="101,95,175,121"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="148,319,219,345"/>
<area shape="rect" href="kerror_8h.html" title=" " alt="" coords="251,95,321,121"/>
<area shape="rect" href="config_8h.html" title=" " alt="" coords="48,169,121,196"/>
<area shape="rect" href="tracing_8h.html" title=" " alt="" coords="45,244,124,271"/>
<area shape="rect" href="trace__events_8h.html" title=" " alt="" coords="5,319,124,345"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="uhashtable_8h__dep__incl.png" border="0" usemap="#a_source_2_kernel_2_libs_2libapi_2includes_2uhashtable_8hdep" alt=""/></div>
<map name="a_source_2_kernel_2_libs_2libapi_2includes_2uhashtable_8hdep" id="a_source_2_kernel_2_libs_2libapi_2includes_2uhashtable_8hdep">
<area shape="rect" title=" " alt="" coords="5,5,213,47"/>
<area shape="rect" href="uhashtable_8c.html" title=" " alt="" coords="23,95,195,136"/>
</map>
</div>
</div>
<p><a href="uhashtable_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuhashtable__alloc__t.html">uhashtable_alloc_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsigned hashtable allocator structure.  <a href="structuhashtable__alloc__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuhashtable__entry__t.html">uhashtable_entry_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsigned hash table entry structure.  <a href="structuhashtable__entry__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuhashtable__t.html">uhashtable_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsigned hash table structure.  <a href="structuhashtable__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a86590d53b96530a305bc2327ca9055dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uhashtable_8h.html#a86590d53b96530a305bc2327ca9055dd">UHASHTABLE_ALLOCATOR</a>(malloc,  free)&#160;&#160;&#160;(<a class="el" href="structuhashtable__alloc__t.html">uhashtable_alloc_t</a>){malloc, free}</td></tr>
<tr class="memdesc:a86590d53b96530a305bc2327ca9055dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an allocator structure.  <a href="uhashtable_8h.html#a86590d53b96530a305bc2327ca9055dd">More...</a><br /></td></tr>
<tr class="separator:a86590d53b96530a305bc2327ca9055dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0ea18abb36f21b05e3386ad0b451ec3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structuhashtable__t.html">uhashtable_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uhashtable_8h.html#a0ea18abb36f21b05e3386ad0b451ec3e">uhashtable_create</a> (<a class="el" href="structuhashtable__alloc__t.html">uhashtable_alloc_t</a> allocator, <a class="el" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a> *error)</td></tr>
<tr class="memdesc:a0ea18abb36f21b05e3386ad0b451ec3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new unsigned hash table.  <a href="uhashtable_8h.html#a0ea18abb36f21b05e3386ad0b451ec3e">More...</a><br /></td></tr>
<tr class="separator:a0ea18abb36f21b05e3386ad0b451ec3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358d03edbaf4eb7030e4679d63e16399"><td class="memItemLeft" align="right" valign="top"><a class="el" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uhashtable_8h.html#a358d03edbaf4eb7030e4679d63e16399">uhashtable_destroy</a> (<a class="el" href="structuhashtable__t.html">uhashtable_t</a> *table)</td></tr>
<tr class="memdesc:a358d03edbaf4eb7030e4679d63e16399"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an unsigned hash table.  <a href="uhashtable_8h.html#a358d03edbaf4eb7030e4679d63e16399">More...</a><br /></td></tr>
<tr class="separator:a358d03edbaf4eb7030e4679d63e16399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa445ae01c5ddbea61ab4a4ccda963aeb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uhashtable_8h.html#aa445ae01c5ddbea61ab4a4ccda963aeb">uhashtable_get</a> (const <a class="el" href="structuhashtable__t.html">uhashtable_t</a> *table, const uintptr_t key, void **data)</td></tr>
<tr class="memdesc:aa445ae01c5ddbea61ab4a4ccda963aeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value attached to the key provided in parameters.  <a href="uhashtable_8h.html#aa445ae01c5ddbea61ab4a4ccda963aeb">More...</a><br /></td></tr>
<tr class="separator:aa445ae01c5ddbea61ab4a4ccda963aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adba2caa76e6636d49ba7538597d10952"><td class="memItemLeft" align="right" valign="top"><a class="el" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uhashtable_8h.html#adba2caa76e6636d49ba7538597d10952">uhashtable_set</a> (<a class="el" href="structuhashtable__t.html">uhashtable_t</a> *table, const uintptr_t key, void *data)</td></tr>
<tr class="memdesc:adba2caa76e6636d49ba7538597d10952"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a value in the hash table.  <a href="uhashtable_8h.html#adba2caa76e6636d49ba7538597d10952">More...</a><br /></td></tr>
<tr class="separator:adba2caa76e6636d49ba7538597d10952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc513a0be47b9028258f750346bbc414"><td class="memItemLeft" align="right" valign="top"><a class="el" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uhashtable_8h.html#afc513a0be47b9028258f750346bbc414">uhashtable_remove</a> (<a class="el" href="structuhashtable__t.html">uhashtable_t</a> *table, const uintptr_t key, void **data)</td></tr>
<tr class="memdesc:afc513a0be47b9028258f750346bbc414"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an entry from the table.  <a href="uhashtable_8h.html#afc513a0be47b9028258f750346bbc414">More...</a><br /></td></tr>
<tr class="separator:afc513a0be47b9028258f750346bbc414"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a86590d53b96530a305bc2327ca9055dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86590d53b96530a305bc2327ca9055dd">&#9670;&nbsp;</a></span>UHASHTABLE_ALLOCATOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UHASHTABLE_ALLOCATOR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">malloc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">free&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(<a class="el" href="structuhashtable__alloc__t.html">uhashtable_alloc_t</a>){malloc, free}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an allocator structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">malloc</td><td>The memory allocation function used by the allocator. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">free</td><td>The memory free function used by the alloctor. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uhashtable_8h_source.html#l00109">109</a> of file <a class="el" href="uhashtable_8h_source.html">uhashtable.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0ea18abb36f21b05e3386ad0b451ec3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ea18abb36f21b05e3386ad0b451ec3e">&#9670;&nbsp;</a></span>uhashtable_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structuhashtable__t.html">uhashtable_t</a>* uhashtable_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structuhashtable__alloc__t.html">uhashtable_alloc_t</a>&#160;</td>
          <td class="paramname"><em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new unsigned hash table. </p>
<p>Creates a new unsigned hash table. The hash table will be initialized and its memory allocated. It should be destroyed once the hash table is no longer in use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">allocator</td><td>The allocator to be used when allocating and freeing the hash table. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>The buffer to return the error status.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the newly created table is returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="uhashtable_8c_source.html#l00314">314</a> of file <a class="el" href="uhashtable_8c_source.html">uhashtable.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="structuhashtable__t.html">uhashtable_t</a>* table;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span>(allocator.<a class="code" href="structuhashtable__alloc__t.html#a7ffa51abb1dd8bc3fe4627cb1d2405c5">free</a> == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || allocator.<a class="code" href="structuhashtable__alloc__t.html#acb71a462e38a2826c1430838cf94556c">malloc</a> == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">if</span>(error != <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            *error = <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e">OS_ERR_NULL_POINTER</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">/* Initialize the table */</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    table = allocator.<a class="code" href="structuhashtable__alloc__t.html#acb71a462e38a2826c1430838cf94556c">malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="structuhashtable__t.html">uhashtable_t</a>));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span>(table == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">if</span>(error != <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            *error = <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a34cb628cf78c31b09268e0f874cd9385">OS_ERR_NO_MORE_MEMORY</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a> = allocator.<a class="code" href="structuhashtable__alloc__t.html#acb71a462e38a2826c1430838cf94556c">malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="structuhashtable__entry__t.html">uhashtable_entry_t</a>*) *</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                      <a class="code" href="uhashtable_8c.html#adc7215a18cab6d02632342fb796d5dbf">HT_INITIAL_SIZE</a>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span>(table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a> == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        allocator.<a class="code" href="structuhashtable__alloc__t.html#a7ffa51abb1dd8bc3fe4627cb1d2405c5">free</a>(table);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">if</span>(error != <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            *error = <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a34cb628cf78c31b09268e0f874cd9385">OS_ERR_NO_MORE_MEMORY</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="string_8h.html#a68d2b40ef2213b9227a1ce3b81997ae5">memset</a>(table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="structuhashtable__entry__t.html">uhashtable_entry_t</a>*) * <a class="code" href="uhashtable_8c.html#adc7215a18cab6d02632342fb796d5dbf">HT_INITIAL_SIZE</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#a377a5b9a2cb12ad9a40e91c5b3dd70fd">allocator</a>      = allocator;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#ad721fc6ca6a3d6ba3bc506576622aab0">capacity</a>       = <a class="code" href="uhashtable_8c.html#adc7215a18cab6d02632342fb796d5dbf">HT_INITIAL_SIZE</a>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#a854352f53b148adc24983a58a1866d66">size</a>           = 0;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#aff3f618d728a254c5f36856775626497">graveyard_size</a> = 0;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span>(error != <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        *error = <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186">OS_NO_ERR</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> table;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div>
<div class="ttc" id="akerror_8h_html_a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186"><div class="ttname"><a href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186">OS_NO_ERR</a></div><div class="ttdeci">@ OS_NO_ERR</div><div class="ttdoc">No error occured.</div><div class="ttdef"><b>Definition:</b> <a href="kerror_8h_source.html#l00040">kerror.h:40</a></div></div>
<div class="ttc" id="akerror_8h_html_a51557cb52bbb9ee9d55aab5b9b16c3d0a34cb628cf78c31b09268e0f874cd9385"><div class="ttname"><a href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a34cb628cf78c31b09268e0f874cd9385">OS_ERR_NO_MORE_MEMORY</a></div><div class="ttdeci">@ OS_ERR_NO_MORE_MEMORY</div><div class="ttdoc">Missing required memory.</div><div class="ttdef"><b>Definition:</b> <a href="kerror_8h_source.html#l00054">kerror.h:54</a></div></div>
<div class="ttc" id="akerror_8h_html_a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e"><div class="ttname"><a href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e">OS_ERR_NULL_POINTER</a></div><div class="ttdeci">@ OS_ERR_NULL_POINTER</div><div class="ttdoc">A null pointer was detected.</div><div class="ttdef"><b>Definition:</b> <a href="kerror_8h_source.html#l00042">kerror.h:42</a></div></div>
<div class="ttc" id="astddef_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdoc">UTK's NULL definition.</div><div class="ttdef"><b>Definition:</b> <a href="stddef_8h_source.html#l00032">stddef.h:32</a></div></div>
<div class="ttc" id="astring_8h_html_a68d2b40ef2213b9227a1ce3b81997ae5"><div class="ttname"><a href="string_8h.html#a68d2b40ef2213b9227a1ce3b81997ae5">memset</a></div><div class="ttdeci">void * memset(void *, int, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="memset_8c_source.html#l00073">memset.c:73</a></div></div>
<div class="ttc" id="astructuhashtable__alloc__t_html_a7ffa51abb1dd8bc3fe4627cb1d2405c5"><div class="ttname"><a href="structuhashtable__alloc__t.html#a7ffa51abb1dd8bc3fe4627cb1d2405c5">uhashtable_alloc_t::free</a></div><div class="ttdeci">void(* free)(void *ptr)</div><div class="ttdoc">The memory free function used by the allocator.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00062">uhashtable.h:62</a></div></div>
<div class="ttc" id="astructuhashtable__alloc__t_html_acb71a462e38a2826c1430838cf94556c"><div class="ttname"><a href="structuhashtable__alloc__t.html#acb71a462e38a2826c1430838cf94556c">uhashtable_alloc_t::malloc</a></div><div class="ttdeci">void *(* malloc)(size_t alloc_size)</div><div class="ttdoc">The memory allocation function used by the allocator.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00055">uhashtable.h:55</a></div></div>
<div class="ttc" id="astructuhashtable__entry__t_html"><div class="ttname"><a href="structuhashtable__entry__t.html">uhashtable_entry_t</a></div><div class="ttdoc">Unsigned hash table entry structure.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00066">uhashtable.h:67</a></div></div>
<div class="ttc" id="astructuhashtable__t_html"><div class="ttname"><a href="structuhashtable__t.html">uhashtable_t</a></div><div class="ttdoc">Unsigned hash table structure.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00081">uhashtable.h:82</a></div></div>
<div class="ttc" id="astructuhashtable__t_html_a377a5b9a2cb12ad9a40e91c5b3dd70fd"><div class="ttname"><a href="structuhashtable__t.html#a377a5b9a2cb12ad9a40e91c5b3dd70fd">uhashtable_t::allocator</a></div><div class="ttdeci">uhashtable_alloc_t allocator</div><div class="ttdoc">Hash table allocator.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00084">uhashtable.h:84</a></div></div>
<div class="ttc" id="astructuhashtable__t_html_a854352f53b148adc24983a58a1866d66"><div class="ttname"><a href="structuhashtable__t.html#a854352f53b148adc24983a58a1866d66">uhashtable_t::size</a></div><div class="ttdeci">size_t size</div><div class="ttdoc">Current hash table size.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00093">uhashtable.h:93</a></div></div>
<div class="ttc" id="astructuhashtable__t_html_ad721fc6ca6a3d6ba3bc506576622aab0"><div class="ttname"><a href="structuhashtable__t.html#ad721fc6ca6a3d6ba3bc506576622aab0">uhashtable_t::capacity</a></div><div class="ttdeci">size_t capacity</div><div class="ttdoc">Current hash table capacity.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00090">uhashtable.h:90</a></div></div>
<div class="ttc" id="astructuhashtable__t_html_aeec919785c406d2cabc467e8d0fc0f31"><div class="ttname"><a href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">uhashtable_t::entries</a></div><div class="ttdeci">uhashtable_entry_t ** entries</div><div class="ttdoc">Hash table entries.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00087">uhashtable.h:87</a></div></div>
<div class="ttc" id="astructuhashtable__t_html_aff3f618d728a254c5f36856775626497"><div class="ttname"><a href="structuhashtable__t.html#aff3f618d728a254c5f36856775626497">uhashtable_t::graveyard_size</a></div><div class="ttdeci">size_t graveyard_size</div><div class="ttdoc">Contains the number of deleted item still in the table.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00096">uhashtable.h:96</a></div></div>
<div class="ttc" id="auhashtable_8c_html_adc7215a18cab6d02632342fb796d5dbf"><div class="ttname"><a href="uhashtable_8c.html#adc7215a18cab6d02632342fb796d5dbf">HT_INITIAL_SIZE</a></div><div class="ttdeci">#define HT_INITIAL_SIZE</div><div class="ttdoc">Initial capacity and size of the hashtable.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8c_source.html#l00049">uhashtable.c:49</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="uhashtable_8h_a0ea18abb36f21b05e3386ad0b451ec3e_cgraph.png" border="0" usemap="#auhashtable_8h_a0ea18abb36f21b05e3386ad0b451ec3e_cgraph" alt=""/></div>
<map name="auhashtable_8h_a0ea18abb36f21b05e3386ad0b451ec3e_cgraph" id="auhashtable_8h_a0ea18abb36f21b05e3386ad0b451ec3e_cgraph">
<area shape="rect" title="Creates a new unsigned hash table." alt="" coords="5,5,148,32"/>
<area shape="rect" href="string_8h.html#a68d2b40ef2213b9227a1ce3b81997ae5" title=" " alt="" coords="196,5,272,32"/>
</map>
</div>

</div>
</div>
<a id="a358d03edbaf4eb7030e4679d63e16399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a358d03edbaf4eb7030e4679d63e16399">&#9670;&nbsp;</a></span>uhashtable_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a> uhashtable_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structuhashtable__t.html">uhashtable_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys an unsigned hash table. </p>
<p>Destroys an unsigned hash table. The memory used by the table is released. It is the responsability of the user to free the memory used by the data contained in the hash table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">table</td><td>The unsigned hash table to destroy.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The error status is returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="uhashtable_8c_source.html#l00366">366</a> of file <a class="el" href="uhashtable_8c_source.html">uhashtable.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;{</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span>(table == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a> == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e">OS_ERR_NULL_POINTER</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">/* Free the memory used by the table */</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; table-&gt;<a class="code" href="structuhashtable__t.html#ad721fc6ca6a3d6ba3bc506576622aab0">capacity</a>; ++i)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">if</span>(table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[i] != <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            table-&gt;<a class="code" href="structuhashtable__t.html#a377a5b9a2cb12ad9a40e91c5b3dd70fd">allocator</a>.<a class="code" href="structuhashtable__alloc__t.html#a7ffa51abb1dd8bc3fe4627cb1d2405c5">free</a>(table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[i]);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#a377a5b9a2cb12ad9a40e91c5b3dd70fd">allocator</a>.<a class="code" href="structuhashtable__alloc__t.html#a7ffa51abb1dd8bc3fe4627cb1d2405c5">free</a>(table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">/* Reset attributes */</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#a854352f53b148adc24983a58a1866d66">size</a>           = 0;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#ad721fc6ca6a3d6ba3bc506576622aab0">capacity</a>       = 0;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#aff3f618d728a254c5f36856775626497">graveyard_size</a> = 0;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>        = <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">/* Free memory */</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    table-&gt;<a class="code" href="structuhashtable__t.html#a377a5b9a2cb12ad9a40e91c5b3dd70fd">allocator</a>.<a class="code" href="structuhashtable__alloc__t.html#a7ffa51abb1dd8bc3fe4627cb1d2405c5">free</a>(table);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186">OS_NO_ERR</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa445ae01c5ddbea61ab4a4ccda963aeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa445ae01c5ddbea61ab4a4ccda963aeb">&#9670;&nbsp;</a></span>uhashtable_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a> uhashtable_get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structuhashtable__t.html">uhashtable_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uintptr_t&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value attached to the key provided in parameters. </p>
<p>Returns the value attached to the key provided in parameters. If the key is not in the table, OS_ERR_INCORRECT_VALUE is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>The table to search. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The key to search. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>The data buffer to receive the data associated to the key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The error status is returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="uhashtable_8c_source.html#l00397">397</a> of file <a class="el" href="uhashtable_8c_source.html">uhashtable.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;{</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="stdint_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> hash;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordtype">size_t</span>   entry_index;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span>(table == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || data == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a> == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e">OS_ERR_NULL_POINTER</a>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">/* Get the hash and ensure it does not overflow the current capacity */</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    hash        = <a class="code" href="uhashtable_8c.html#aee31db0f156eaae75d46c275450f392e">_uhash_64</a>(key);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    entry_index = (<a class="code" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>)(hash &amp; (<a class="code" href="stdint_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>)(table-&gt;<a class="code" href="structuhashtable__t.html#ad721fc6ca6a3d6ba3bc506576622aab0">capacity</a> - 1));</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">/* Search for the entry in the table. Note that due to the fact that our</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">     * load factor should always be under 1.0, there is at least one entry that</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">     * is NULL. Hence we cannot have an infinite loop here. */</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">while</span>(table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[entry_index] != <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="comment">/* Found the entry */</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">if</span>(table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[entry_index]-&gt;<a class="code" href="structuhashtable__entry__t.html#ab4c3b12445fae2df7439fd1f0f767358">key</a> == key &amp;&amp;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;           table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[entry_index]-&gt;<a class="code" href="structuhashtable__entry__t.html#a97bb7a73f339f51bd597d5942b4e1628">is_used</a> == <a class="code" href="stdint_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            *data = table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[entry_index]-&gt;<a class="code" href="structuhashtable__entry__t.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186">OS_NO_ERR</a>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="comment">/* Increment the index */</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        entry_index = (entry_index + 1) % table-&gt;<a class="code" href="structuhashtable__t.html#ad721fc6ca6a3d6ba3bc506576622aab0">capacity</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a9aecdbdd1ae10ab77e2e648c8b5f1df5">OS_ERR_INCORRECT_VALUE</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="ttc" id="akerror_8h_html_a51557cb52bbb9ee9d55aab5b9b16c3d0a9aecdbdd1ae10ab77e2e648c8b5f1df5"><div class="ttname"><a href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a9aecdbdd1ae10ab77e2e648c8b5f1df5">OS_ERR_INCORRECT_VALUE</a></div><div class="ttdeci">@ OS_ERR_INCORRECT_VALUE</div><div class="ttdoc">Invalid value used.</div><div class="ttdef"><b>Definition:</b> <a href="kerror_8h_source.html#l00056">kerror.h:56</a></div></div>
<div class="ttc" id="astddef_8h_html_aa9d55e2f20e580b7445617d0d12fff6e"><div class="ttname"><a href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a></div><div class="ttdeci">__SIZE_TYPE__ size_t</div><div class="ttdoc">Defines size_t type as a renaming for SIZE_TYPE.</div><div class="ttdef"><b>Definition:</b> <a href="stddef_8h_source.html#l00042">stddef.h:42</a></div></div>
<div class="ttc" id="astdint_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="stdint_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdoc">Defines the TRUE value.</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00033">stdint.h:33</a></div></div>
<div class="ttc" id="astdint_8h_html_aaa5d1cd013383c889537491c3cfd9aad"><div class="ttname"><a href="stdint_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></div><div class="ttdeci">unsigned long long uint64_t</div><div class="ttdoc">Defines uint64_t type as an exact width 64 bits integer.</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00101">stdint.h:101</a></div></div>
<div class="ttc" id="astructuhashtable__entry__t_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="structuhashtable__entry__t.html#a735984d41155bc1032e09bece8f8d66d">uhashtable_entry_t::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">Data associated to the key.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00074">uhashtable.h:74</a></div></div>
<div class="ttc" id="astructuhashtable__entry__t_html_a97bb7a73f339f51bd597d5942b4e1628"><div class="ttname"><a href="structuhashtable__entry__t.html#a97bb7a73f339f51bd597d5942b4e1628">uhashtable_entry_t::is_used</a></div><div class="ttdeci">bool_t is_used</div><div class="ttdoc">Tells if the entry is used or not.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00077">uhashtable.h:77</a></div></div>
<div class="ttc" id="astructuhashtable__entry__t_html_ab4c3b12445fae2df7439fd1f0f767358"><div class="ttname"><a href="structuhashtable__entry__t.html#ab4c3b12445fae2df7439fd1f0f767358">uhashtable_entry_t::key</a></div><div class="ttdeci">uintptr_t key</div><div class="ttdoc">Pointer sized key, contains a unsigned integer of the size of a pointer.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8h_source.html#l00071">uhashtable.h:71</a></div></div>
<div class="ttc" id="auhashtable_8c_html_aee31db0f156eaae75d46c275450f392e"><div class="ttname"><a href="uhashtable_8c.html#aee31db0f156eaae75d46c275450f392e">_uhash_64</a></div><div class="ttdeci">static uint64_t _uhash_64(const uintptr_t key)</div><div class="ttdoc">64 bits hash function for uintptr_t keys.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8c_source.html#l00155">uhashtable.c:155</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="uhashtable_8h_aa445ae01c5ddbea61ab4a4ccda963aeb_cgraph.png" border="0" usemap="#auhashtable_8h_aa445ae01c5ddbea61ab4a4ccda963aeb_cgraph" alt=""/></div>
<map name="auhashtable_8h_aa445ae01c5ddbea61ab4a4ccda963aeb_cgraph" id="auhashtable_8h_aa445ae01c5ddbea61ab4a4ccda963aeb_cgraph">
<area shape="rect" title="Returns the value attached to the key provided in parameters." alt="" coords="5,5,128,32"/>
<area shape="rect" href="uhashtable_8c.html#aee31db0f156eaae75d46c275450f392e" title="64 bits hash function for uintptr_t keys." alt="" coords="176,5,267,32"/>
</map>
</div>

</div>
</div>
<a id="afc513a0be47b9028258f750346bbc414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc513a0be47b9028258f750346bbc414">&#9670;&nbsp;</a></span>uhashtable_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a> uhashtable_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structuhashtable__t.html">uhashtable_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uintptr_t&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes an entry from the table. </p>
<p>Removes an entry from the table. This function returns the value attached to the key provided in parameters. If the key is not in the table, OS_ERR_INCORRECT_VALUE is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>The table to remove the entry in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The key to remove. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>The data buffer to receive the data associated to the key. This parameter can be set to NULL is the user does not want to retreive the removed data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The error status is returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="uhashtable_8c_source.html#l00459">459</a> of file <a class="el" href="uhashtable_8c_source.html">uhashtable.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;{</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="stdint_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>    hash;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordtype">size_t</span>      entry_index;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a> err;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span>(table == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a> == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e">OS_ERR_NULL_POINTER</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">/* Get the hash and ensure it does not overflow the current capacity */</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    hash        = <a class="code" href="uhashtable_8c.html#aee31db0f156eaae75d46c275450f392e">_uhash_64</a>(key);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    entry_index = (<a class="code" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>)(hash &amp; (<a class="code" href="stdint_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>)(table-&gt;<a class="code" href="structuhashtable__t.html#ad721fc6ca6a3d6ba3bc506576622aab0">capacity</a> - 1));</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">/* Check if the graveyard load is under the threshold */</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">if</span>((<span class="keywordtype">float</span>)table-&gt;<a class="code" href="structuhashtable__t.html#ad721fc6ca6a3d6ba3bc506576622aab0">capacity</a> * <a class="code" href="uhashtable_8c.html#ac692d079184deeecc8475bc75b5a21ba">HT_MAX_GRAVEYARD_FACTOR</a> &lt; table-&gt;<a class="code" href="structuhashtable__t.html#aff3f618d728a254c5f36856775626497">graveyard_size</a>)</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="comment">/* Rehash with a growth factor or 1 to keep the same capacity */</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        err = <a class="code" href="uhashtable_8c.html#a467f7118260ef6f993a93c55faa36431">_uhashtable_rehash</a>(table, 1);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">if</span>(err != <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186">OS_NO_ERR</a>)</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="comment">/* Search for the entry in the table. Note that due to the fact that our</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">     * load factor should always be under 1.0, there is at least one entry that</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">     * is NULL. Hence we cannot have an infinite loop here. */</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">while</span>(table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[entry_index] != <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="comment">/* Found the entry */</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">if</span>(table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[entry_index]-&gt;<a class="code" href="structuhashtable__entry__t.html#ab4c3b12445fae2df7439fd1f0f767358">key</a> == key &amp;&amp;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;           table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[entry_index]-&gt;<a class="code" href="structuhashtable__entry__t.html#a97bb7a73f339f51bd597d5942b4e1628">is_used</a> == <a class="code" href="stdint_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="keywordflow">if</span>(data != <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                *data = table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[entry_index]-&gt;<a class="code" href="structuhashtable__entry__t.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a>[entry_index]-&gt;<a class="code" href="structuhashtable__entry__t.html#a97bb7a73f339f51bd597d5942b4e1628">is_used</a> = <a class="code" href="stdint_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            ++table-&gt;<a class="code" href="structuhashtable__t.html#aff3f618d728a254c5f36856775626497">graveyard_size</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            --table-&gt;<a class="code" href="structuhashtable__t.html#a854352f53b148adc24983a58a1866d66">size</a>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186">OS_NO_ERR</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="comment">/* Increment the index */</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        entry_index = (entry_index + 1) % table-&gt;<a class="code" href="structuhashtable__t.html#ad721fc6ca6a3d6ba3bc506576622aab0">capacity</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a9aecdbdd1ae10ab77e2e648c8b5f1df5">OS_ERR_INCORRECT_VALUE</a>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div>
<div class="ttc" id="akerror_8h_html_a51557cb52bbb9ee9d55aab5b9b16c3d0"><div class="ttname"><a href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a></div><div class="ttdeci">OS_RETURN_E</div><div class="ttdoc">System return states enumeration.</div><div class="ttdef"><b>Definition:</b> <a href="kerror_8h_source.html#l00037">kerror.h:38</a></div></div>
<div class="ttc" id="astdint_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="stdint_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdoc">Defines the FALSE value.</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00036">stdint.h:36</a></div></div>
<div class="ttc" id="auhashtable_8c_html_a467f7118260ef6f993a93c55faa36431"><div class="ttname"><a href="uhashtable_8c.html#a467f7118260ef6f993a93c55faa36431">_uhashtable_rehash</a></div><div class="ttdeci">static OS_RETURN_E _uhashtable_rehash(uhashtable_t *table, const float growth)</div><div class="ttdoc">Rehashes the table and grows the table by a certain factor.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8c_source.html#l00257">uhashtable.c:257</a></div></div>
<div class="ttc" id="auhashtable_8c_html_ac692d079184deeecc8475bc75b5a21ba"><div class="ttname"><a href="uhashtable_8c.html#ac692d079184deeecc8475bc75b5a21ba">HT_MAX_GRAVEYARD_FACTOR</a></div><div class="ttdeci">#define HT_MAX_GRAVEYARD_FACTOR</div><div class="ttdoc">Maximal factor size of the graveyard.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8c_source.html#l00052">uhashtable.c:52</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="uhashtable_8h_afc513a0be47b9028258f750346bbc414_cgraph.png" border="0" usemap="#auhashtable_8h_afc513a0be47b9028258f750346bbc414_cgraph" alt=""/></div>
<map name="auhashtable_8h_afc513a0be47b9028258f750346bbc414_cgraph" id="auhashtable_8h_afc513a0be47b9028258f750346bbc414_cgraph">
<area shape="rect" title="Removes an entry from the table." alt="" coords="5,5,156,32"/>
<area shape="rect" href="uhashtable_8c.html#aee31db0f156eaae75d46c275450f392e" title="64 bits hash function for uintptr_t keys." alt="" coords="604,5,695,32"/>
<area shape="rect" href="uhashtable_8c.html#a467f7118260ef6f993a93c55faa36431" title="Rehashes the table and grows the table by a certain factor." alt="" coords="204,35,356,61"/>
<area shape="rect" href="uhashtable_8c.html#ae07e6655b0b5433f8ec61af510d49fd7" title="Replaces an entry in the table, without allocating the entry." alt="" coords="404,27,556,69"/>
<area shape="rect" href="string_8h.html#a68d2b40ef2213b9227a1ce3b81997ae5" title=" " alt="" coords="442,93,518,120"/>
</map>
</div>

</div>
</div>
<a id="adba2caa76e6636d49ba7538597d10952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba2caa76e6636d49ba7538597d10952">&#9670;&nbsp;</a></span>uhashtable_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a> uhashtable_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structuhashtable__t.html">uhashtable_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uintptr_t&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a value in the hash table. </p>
<p>Sets a value in the hash table. If the value already exists, the previous value is overwritten, otherwise, a new entry is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">table</td><td>The table to set the data into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The key to associate to the data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The data to set in the table.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The error status is returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="uhashtable_8c_source.html#l00433">433</a> of file <a class="el" href="uhashtable_8c_source.html">uhashtable.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;{</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0">OS_RETURN_E</a> err;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span>(table == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || table-&gt;<a class="code" href="structuhashtable__t.html#aeec919785c406d2cabc467e8d0fc0f31">entries</a> == <a class="code" href="stddef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e">OS_ERR_NULL_POINTER</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">/* Check if the current load is under the threshold, double the size */</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">if</span>((<span class="keywordtype">float</span>)table-&gt;<a class="code" href="structuhashtable__t.html#ad721fc6ca6a3d6ba3bc506576622aab0">capacity</a> * <a class="code" href="uhashtable_8c.html#ae0eb456851578fd546fcc7f95b6e1e45">HT_MAX_LOAD_FACTOR</a> &lt;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;       table-&gt;<a class="code" href="structuhashtable__t.html#a854352f53b148adc24983a58a1866d66">size</a> + table-&gt;<a class="code" href="structuhashtable__t.html#aff3f618d728a254c5f36856775626497">graveyard_size</a>)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        err = <a class="code" href="uhashtable_8c.html#a467f7118260ef6f993a93c55faa36431">_uhashtable_rehash</a>(table, 2);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">if</span>(err != <a class="code" href="kerror_8h.html#a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186">OS_NO_ERR</a>)</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">/* Insert the entry */</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="uhashtable_8c.html#ad1bac19afa6b5926bd1a266777a7cddb">_uhashtable_set_entry</a>(table, key, data);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;}</div>
<div class="ttc" id="auhashtable_8c_html_ad1bac19afa6b5926bd1a266777a7cddb"><div class="ttname"><a href="uhashtable_8c.html#ad1bac19afa6b5926bd1a266777a7cddb">_uhashtable_set_entry</a></div><div class="ttdeci">static OS_RETURN_E _uhashtable_set_entry(uhashtable_t *table, const uintptr_t key, void *data)</div><div class="ttdoc">Sets the data for a given entry in the unsigned hash table.</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8c_source.html#l00172">uhashtable.c:172</a></div></div>
<div class="ttc" id="auhashtable_8c_html_ae0eb456851578fd546fcc7f95b6e1e45"><div class="ttname"><a href="uhashtable_8c.html#ae0eb456851578fd546fcc7f95b6e1e45">HT_MAX_LOAD_FACTOR</a></div><div class="ttdeci">#define HT_MAX_LOAD_FACTOR</div><div class="ttdoc">Maximal load factor (including graveyard).</div><div class="ttdef"><b>Definition:</b> <a href="uhashtable_8c_source.html#l00058">uhashtable.c:58</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="uhashtable_8h_adba2caa76e6636d49ba7538597d10952_cgraph.png" border="0" usemap="#auhashtable_8h_adba2caa76e6636d49ba7538597d10952_cgraph" alt=""/></div>
<map name="auhashtable_8h_adba2caa76e6636d49ba7538597d10952_cgraph" id="auhashtable_8h_adba2caa76e6636d49ba7538597d10952_cgraph">
<area shape="rect" title="Sets a value in the hash table." alt="" coords="5,97,127,123"/>
<area shape="rect" href="uhashtable_8c.html#a467f7118260ef6f993a93c55faa36431" title="Rehashes the table and grows the table by a certain factor." alt="" coords="183,71,335,98"/>
<area shape="rect" href="uhashtable_8c.html#ad1bac19afa6b5926bd1a266777a7cddb" title="Sets the data for a given entry in the unsigned hash table." alt="" coords="175,122,344,149"/>
<area shape="rect" href="uhashtable_8c.html#ae07e6655b0b5433f8ec61af510d49fd7" title="Replaces an entry in the table, without allocating the entry." alt="" coords="392,5,544,47"/>
<area shape="rect" href="string_8h.html#a68d2b40ef2213b9227a1ce3b81997ae5" title=" " alt="" coords="430,71,506,98"/>
<area shape="rect" href="uhashtable_8c.html#aee31db0f156eaae75d46c275450f392e" title="64 bits hash function for uintptr_t keys." alt="" coords="592,67,683,94"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
