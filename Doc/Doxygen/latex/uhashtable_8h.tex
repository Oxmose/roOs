\hypertarget{uhashtable_8h}{}\doxysection{Source/\+Kernel/\+Libs/libapi/includes/uhashtable.h File Reference}
\label{uhashtable_8h}\index{Source/Kernel/Libs/libapi/includes/uhashtable.h@{Source/Kernel/Libs/libapi/includes/uhashtable.h}}
{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$kerror.\+h$>$}\newline
Include dependency graph for uhashtable.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=317pt]{uhashtable_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{uhashtable_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structuhashtable__alloc__t}{uhashtable\+\_\+alloc\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Unsigned hashtable allocator structure. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structuhashtable__entry__t}{uhashtable\+\_\+entry\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Unsigned hash table entry structure. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Unsigned hash table structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{uhashtable_8h_a86590d53b96530a305bc2327ca9055dd}{UHASHTABLE\+\_\+\+ALLOCATOR}}(malloc,  free)~(\mbox{\hyperlink{structuhashtable__alloc__t}{uhashtable\+\_\+alloc\+\_\+t}})\{malloc, free\}
\begin{DoxyCompactList}\small\item\em Create an allocator structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}} $\ast$ \mbox{\hyperlink{uhashtable_8h_a0ea18abb36f21b05e3386ad0b451ec3e}{uhashtable\+\_\+create}} (\mbox{\hyperlink{structuhashtable__alloc__t}{uhashtable\+\_\+alloc\+\_\+t}} allocator, \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\+\_\+\+RETURN\+\_\+E}} $\ast$error)
\begin{DoxyCompactList}\small\item\em Creates a new unsigned hash table. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\+\_\+\+RETURN\+\_\+E}} \mbox{\hyperlink{uhashtable_8h_a358d03edbaf4eb7030e4679d63e16399}{uhashtable\+\_\+destroy}} (\mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}} $\ast$table)
\begin{DoxyCompactList}\small\item\em Destroys an unsigned hash table. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\+\_\+\+RETURN\+\_\+E}} \mbox{\hyperlink{uhashtable_8h_aa445ae01c5ddbea61ab4a4ccda963aeb}{uhashtable\+\_\+get}} (const \mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}} $\ast$table, const uintptr\+\_\+t key, void $\ast$$\ast$data)
\begin{DoxyCompactList}\small\item\em Returns the value attached to the key provided in parameters. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\+\_\+\+RETURN\+\_\+E}} \mbox{\hyperlink{uhashtable_8h_adba2caa76e6636d49ba7538597d10952}{uhashtable\+\_\+set}} (\mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}} $\ast$table, const uintptr\+\_\+t key, void $\ast$data)
\begin{DoxyCompactList}\small\item\em Sets a value in the hash table. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\+\_\+\+RETURN\+\_\+E}} \mbox{\hyperlink{uhashtable_8h_afc513a0be47b9028258f750346bbc414}{uhashtable\+\_\+remove}} (\mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}} $\ast$table, const uintptr\+\_\+t key, void $\ast$$\ast$data)
\begin{DoxyCompactList}\small\item\em Removes an entry from the table. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{uhashtable_8h_a86590d53b96530a305bc2327ca9055dd}\label{uhashtable_8h_a86590d53b96530a305bc2327ca9055dd}} 
\index{uhashtable.h@{uhashtable.h}!UHASHTABLE\_ALLOCATOR@{UHASHTABLE\_ALLOCATOR}}
\index{UHASHTABLE\_ALLOCATOR@{UHASHTABLE\_ALLOCATOR}!uhashtable.h@{uhashtable.h}}
\doxysubsubsection{\texorpdfstring{UHASHTABLE\_ALLOCATOR}{UHASHTABLE\_ALLOCATOR}}
{\footnotesize\ttfamily \#define UHASHTABLE\+\_\+\+ALLOCATOR(\begin{DoxyParamCaption}\item[{}]{malloc,  }\item[{}]{free }\end{DoxyParamCaption})~(\mbox{\hyperlink{structuhashtable__alloc__t}{uhashtable\+\_\+alloc\+\_\+t}})\{malloc, free\}}



Create an allocator structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em malloc} & The memory allocation function used by the allocator. \\
\hline
\mbox{\texttt{ in}}  & {\em free} & The memory free function used by the alloctor. \\
\hline
\end{DoxyParams}


Definition at line 109 of file uhashtable.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{uhashtable_8h_a0ea18abb36f21b05e3386ad0b451ec3e}\label{uhashtable_8h_a0ea18abb36f21b05e3386ad0b451ec3e}} 
\index{uhashtable.h@{uhashtable.h}!uhashtable\_create@{uhashtable\_create}}
\index{uhashtable\_create@{uhashtable\_create}!uhashtable.h@{uhashtable.h}}
\doxysubsubsection{\texorpdfstring{uhashtable\_create()}{uhashtable\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}}$\ast$ uhashtable\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structuhashtable__alloc__t}{uhashtable\+\_\+alloc\+\_\+t}}}]{allocator,  }\item[{\mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\+\_\+\+RETURN\+\_\+E}} $\ast$}]{error }\end{DoxyParamCaption})}



Creates a new unsigned hash table. 

Creates a new unsigned hash table. The hash table will be initialized and its memory allocated. It should be destroyed once the hash table is no longer in use.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em allocator} & The allocator to be used when allocating and freeing the hash table. \\
\hline
\mbox{\texttt{ out}}  & {\em error} & The buffer to return the error status.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the newly created table is returned. 
\end{DoxyReturn}


Definition at line 314 of file uhashtable.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{316 \{}
\DoxyCodeLine{317     \mbox{\hyperlink{structuhashtable__t}{uhashtable\_t}}* table;}
\DoxyCodeLine{318 }
\DoxyCodeLine{319     \textcolor{keywordflow}{if}(allocator.\mbox{\hyperlink{structuhashtable__alloc__t_a7ffa51abb1dd8bc3fe4627cb1d2405c5}{free}} == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} || allocator.\mbox{\hyperlink{structuhashtable__alloc__t_acb71a462e38a2826c1430838cf94556c}{malloc}} == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{320     \{}
\DoxyCodeLine{321         \textcolor{keywordflow}{if}(error != \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{322         \{}
\DoxyCodeLine{323             *error = \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e}{OS\_ERR\_NULL\_POINTER}};}
\DoxyCodeLine{324         \}}
\DoxyCodeLine{325         \textcolor{keywordflow}{return} \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{326     \}}
\DoxyCodeLine{327 }
\DoxyCodeLine{328     \textcolor{comment}{/* Initialize the table */}}
\DoxyCodeLine{329     table = allocator.\mbox{\hyperlink{structuhashtable__alloc__t_acb71a462e38a2826c1430838cf94556c}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structuhashtable__t}{uhashtable\_t}}));}
\DoxyCodeLine{330     \textcolor{keywordflow}{if}(table == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{331     \{}
\DoxyCodeLine{332         \textcolor{keywordflow}{if}(error != \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{333         \{}
\DoxyCodeLine{334             *error = \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a34cb628cf78c31b09268e0f874cd9385}{OS\_ERR\_NO\_MORE\_MEMORY}};}
\DoxyCodeLine{335         \}}
\DoxyCodeLine{336         \textcolor{keywordflow}{return} \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{337     \}}
\DoxyCodeLine{338 }
\DoxyCodeLine{339     table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}} = allocator.\mbox{\hyperlink{structuhashtable__alloc__t_acb71a462e38a2826c1430838cf94556c}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structuhashtable__entry__t}{uhashtable\_entry\_t}}*) *}
\DoxyCodeLine{340                                       \mbox{\hyperlink{uhashtable_8c_adc7215a18cab6d02632342fb796d5dbf}{HT\_INITIAL\_SIZE}});}
\DoxyCodeLine{341 }
\DoxyCodeLine{342     \textcolor{keywordflow}{if}(table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}} == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{343     \{}
\DoxyCodeLine{344         allocator.\mbox{\hyperlink{structuhashtable__alloc__t_a7ffa51abb1dd8bc3fe4627cb1d2405c5}{free}}(table);}
\DoxyCodeLine{345         \textcolor{keywordflow}{if}(error != \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{346         \{}
\DoxyCodeLine{347             *error = \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a34cb628cf78c31b09268e0f874cd9385}{OS\_ERR\_NO\_MORE\_MEMORY}};}
\DoxyCodeLine{348         \}}
\DoxyCodeLine{349         \textcolor{keywordflow}{return} \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{350     \}}
\DoxyCodeLine{351 }
\DoxyCodeLine{352     \mbox{\hyperlink{string_8h_a68d2b40ef2213b9227a1ce3b81997ae5}{memset}}(table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structuhashtable__entry__t}{uhashtable\_entry\_t}}*) * \mbox{\hyperlink{uhashtable_8c_adc7215a18cab6d02632342fb796d5dbf}{HT\_INITIAL\_SIZE}});}
\DoxyCodeLine{353     table-\/>\mbox{\hyperlink{structuhashtable__t_a377a5b9a2cb12ad9a40e91c5b3dd70fd}{allocator}}      = allocator;}
\DoxyCodeLine{354     table-\/>\mbox{\hyperlink{structuhashtable__t_ad721fc6ca6a3d6ba3bc506576622aab0}{capacity}}       = \mbox{\hyperlink{uhashtable_8c_adc7215a18cab6d02632342fb796d5dbf}{HT\_INITIAL\_SIZE}};}
\DoxyCodeLine{355     table-\/>\mbox{\hyperlink{structuhashtable__t_a854352f53b148adc24983a58a1866d66}{size}}           = 0;}
\DoxyCodeLine{356     table-\/>\mbox{\hyperlink{structuhashtable__t_aff3f618d728a254c5f36856775626497}{graveyard\_size}} = 0;}
\DoxyCodeLine{357 }
\DoxyCodeLine{358     \textcolor{keywordflow}{if}(error != \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{359     \{}
\DoxyCodeLine{360         *error = \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186}{OS\_NO\_ERR}};}
\DoxyCodeLine{361     \}}
\DoxyCodeLine{362 }
\DoxyCodeLine{363     \textcolor{keywordflow}{return} table;}
\DoxyCodeLine{364 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=280pt]{uhashtable_8h_a0ea18abb36f21b05e3386ad0b451ec3e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{uhashtable_8h_a358d03edbaf4eb7030e4679d63e16399}\label{uhashtable_8h_a358d03edbaf4eb7030e4679d63e16399}} 
\index{uhashtable.h@{uhashtable.h}!uhashtable\_destroy@{uhashtable\_destroy}}
\index{uhashtable\_destroy@{uhashtable\_destroy}!uhashtable.h@{uhashtable.h}}
\doxysubsubsection{\texorpdfstring{uhashtable\_destroy()}{uhashtable\_destroy()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\+\_\+\+RETURN\+\_\+E}} uhashtable\+\_\+destroy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}} $\ast$}]{table }\end{DoxyParamCaption})}



Destroys an unsigned hash table. 

Destroys an unsigned hash table. The memory used by the table is released. It is the responsability of the user to free the memory used by the data contained in the hash table.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em table} & The unsigned hash table to destroy.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The error status is returned. 
\end{DoxyReturn}


Definition at line 366 of file uhashtable.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{367 \{}
\DoxyCodeLine{368     \textcolor{keywordtype}{size\_t} i;}
\DoxyCodeLine{369 }
\DoxyCodeLine{370     \textcolor{keywordflow}{if}(table == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} || table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}} == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{371     \{}
\DoxyCodeLine{372         \textcolor{keywordflow}{return} \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e}{OS\_ERR\_NULL\_POINTER}};}
\DoxyCodeLine{373     \}}
\DoxyCodeLine{374 }
\DoxyCodeLine{375     \textcolor{comment}{/* Free the memory used by the table */}}
\DoxyCodeLine{376     \textcolor{keywordflow}{for}(i = 0; i < table-\/>\mbox{\hyperlink{structuhashtable__t_ad721fc6ca6a3d6ba3bc506576622aab0}{capacity}}; ++i)}
\DoxyCodeLine{377     \{}
\DoxyCodeLine{378         \textcolor{keywordflow}{if}(table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[i] != \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{379         \{}
\DoxyCodeLine{380             table-\/>\mbox{\hyperlink{structuhashtable__t_a377a5b9a2cb12ad9a40e91c5b3dd70fd}{allocator}}.\mbox{\hyperlink{structuhashtable__alloc__t_a7ffa51abb1dd8bc3fe4627cb1d2405c5}{free}}(table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[i]);}
\DoxyCodeLine{381         \}}
\DoxyCodeLine{382     \}}
\DoxyCodeLine{383     table-\/>\mbox{\hyperlink{structuhashtable__t_a377a5b9a2cb12ad9a40e91c5b3dd70fd}{allocator}}.\mbox{\hyperlink{structuhashtable__alloc__t_a7ffa51abb1dd8bc3fe4627cb1d2405c5}{free}}(table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}});}
\DoxyCodeLine{384 }
\DoxyCodeLine{385     \textcolor{comment}{/* Reset attributes */}}
\DoxyCodeLine{386     table-\/>\mbox{\hyperlink{structuhashtable__t_a854352f53b148adc24983a58a1866d66}{size}}           = 0;}
\DoxyCodeLine{387     table-\/>\mbox{\hyperlink{structuhashtable__t_ad721fc6ca6a3d6ba3bc506576622aab0}{capacity}}       = 0;}
\DoxyCodeLine{388     table-\/>\mbox{\hyperlink{structuhashtable__t_aff3f618d728a254c5f36856775626497}{graveyard\_size}} = 0;}
\DoxyCodeLine{389     table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}        = \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{390 }
\DoxyCodeLine{391     \textcolor{comment}{/* Free memory */}}
\DoxyCodeLine{392     table-\/>\mbox{\hyperlink{structuhashtable__t_a377a5b9a2cb12ad9a40e91c5b3dd70fd}{allocator}}.\mbox{\hyperlink{structuhashtable__alloc__t_a7ffa51abb1dd8bc3fe4627cb1d2405c5}{free}}(table);}
\DoxyCodeLine{393 }
\DoxyCodeLine{394     \textcolor{keywordflow}{return} \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186}{OS\_NO\_ERR}};}
\DoxyCodeLine{395 \}}

\end{DoxyCode}
\mbox{\Hypertarget{uhashtable_8h_aa445ae01c5ddbea61ab4a4ccda963aeb}\label{uhashtable_8h_aa445ae01c5ddbea61ab4a4ccda963aeb}} 
\index{uhashtable.h@{uhashtable.h}!uhashtable\_get@{uhashtable\_get}}
\index{uhashtable\_get@{uhashtable\_get}!uhashtable.h@{uhashtable.h}}
\doxysubsubsection{\texorpdfstring{uhashtable\_get()}{uhashtable\_get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\+\_\+\+RETURN\+\_\+E}} uhashtable\+\_\+get (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}} $\ast$}]{table,  }\item[{const uintptr\+\_\+t}]{key,  }\item[{void $\ast$$\ast$}]{data }\end{DoxyParamCaption})}



Returns the value attached to the key provided in parameters. 

Returns the value attached to the key provided in parameters. If the key is not in the table, OS\+\_\+\+ERR\+\_\+\+INCORRECT\+\_\+\+VALUE is returned.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em table} & The table to search. \\
\hline
\mbox{\texttt{ in}}  & {\em key} & The key to search. \\
\hline
\mbox{\texttt{ out}}  & {\em data} & The data buffer to receive the data associated to the key.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The error status is returned. 
\end{DoxyReturn}


Definition at line 397 of file uhashtable.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{400 \{}
\DoxyCodeLine{401     \mbox{\hyperlink{stdint_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}} hash;}
\DoxyCodeLine{402     \textcolor{keywordtype}{size\_t}   entry\_index;}
\DoxyCodeLine{403 }
\DoxyCodeLine{404     \textcolor{keywordflow}{if}(table == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} || data == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} || table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}} == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{405     \{}
\DoxyCodeLine{406         \textcolor{keywordflow}{return} \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e}{OS\_ERR\_NULL\_POINTER}};}
\DoxyCodeLine{407     \}}
\DoxyCodeLine{408 }
\DoxyCodeLine{409     \textcolor{comment}{/* Get the hash and ensure it does not overflow the current capacity */}}
\DoxyCodeLine{410     hash        = \mbox{\hyperlink{uhashtable_8c_aee31db0f156eaae75d46c275450f392e}{\_uhash\_64}}(key);}
\DoxyCodeLine{411     entry\_index = (\mbox{\hyperlink{stddef_8h_aa9d55e2f20e580b7445617d0d12fff6e}{size\_t}})(hash \& (\mbox{\hyperlink{stdint_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}})(table-\/>\mbox{\hyperlink{structuhashtable__t_ad721fc6ca6a3d6ba3bc506576622aab0}{capacity}} -\/ 1));}
\DoxyCodeLine{412 }
\DoxyCodeLine{413     \textcolor{comment}{/* Search for the entry in the table. Note that due to the fact that our}}
\DoxyCodeLine{414 \textcolor{comment}{     * load factor should always be under 1.0, there is at least one entry that}}
\DoxyCodeLine{415 \textcolor{comment}{     * is NULL. Hence we cannot have an infinite loop here. */}}
\DoxyCodeLine{416     \textcolor{keywordflow}{while}(table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[entry\_index] != \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{417     \{}
\DoxyCodeLine{418         \textcolor{comment}{/* Found the entry */}}
\DoxyCodeLine{419         \textcolor{keywordflow}{if}(table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[entry\_index]-\/>\mbox{\hyperlink{structuhashtable__entry__t_ab4c3b12445fae2df7439fd1f0f767358}{key}} == key \&\&}
\DoxyCodeLine{420            table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[entry\_index]-\/>\mbox{\hyperlink{structuhashtable__entry__t_a97bb7a73f339f51bd597d5942b4e1628}{is\_used}} == \mbox{\hyperlink{stdint_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}})}
\DoxyCodeLine{421         \{}
\DoxyCodeLine{422             *data = table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[entry\_index]-\/>\mbox{\hyperlink{structuhashtable__entry__t_a735984d41155bc1032e09bece8f8d66d}{data}};}
\DoxyCodeLine{423             \textcolor{keywordflow}{return} \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186}{OS\_NO\_ERR}};}
\DoxyCodeLine{424         \}}
\DoxyCodeLine{425 }
\DoxyCodeLine{426         \textcolor{comment}{/* Increment the index */}}
\DoxyCodeLine{427         entry\_index = (entry\_index + 1) \% table-\/>\mbox{\hyperlink{structuhashtable__t_ad721fc6ca6a3d6ba3bc506576622aab0}{capacity}};}
\DoxyCodeLine{428     \}}
\DoxyCodeLine{429 }
\DoxyCodeLine{430     \textcolor{keywordflow}{return} \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a9aecdbdd1ae10ab77e2e648c8b5f1df5}{OS\_ERR\_INCORRECT\_VALUE}};}
\DoxyCodeLine{431 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{uhashtable_8h_aa445ae01c5ddbea61ab4a4ccda963aeb_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{uhashtable_8h_afc513a0be47b9028258f750346bbc414}\label{uhashtable_8h_afc513a0be47b9028258f750346bbc414}} 
\index{uhashtable.h@{uhashtable.h}!uhashtable\_remove@{uhashtable\_remove}}
\index{uhashtable\_remove@{uhashtable\_remove}!uhashtable.h@{uhashtable.h}}
\doxysubsubsection{\texorpdfstring{uhashtable\_remove()}{uhashtable\_remove()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\+\_\+\+RETURN\+\_\+E}} uhashtable\+\_\+remove (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}} $\ast$}]{table,  }\item[{const uintptr\+\_\+t}]{key,  }\item[{void $\ast$$\ast$}]{data }\end{DoxyParamCaption})}



Removes an entry from the table. 

Removes an entry from the table. This function returns the value attached to the key provided in parameters. If the key is not in the table, OS\+\_\+\+ERR\+\_\+\+INCORRECT\+\_\+\+VALUE is returned.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em table} & The table to remove the entry in. \\
\hline
\mbox{\texttt{ in}}  & {\em key} & The key to remove. \\
\hline
\mbox{\texttt{ out}}  & {\em data} & The data buffer to receive the data associated to the key. This parameter can be set to NULL is the user does not want to retreive the removed data.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The error status is returned. 
\end{DoxyReturn}


Definition at line 459 of file uhashtable.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{462 \{}
\DoxyCodeLine{463     \mbox{\hyperlink{stdint_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}    hash;}
\DoxyCodeLine{464     \textcolor{keywordtype}{size\_t}      entry\_index;}
\DoxyCodeLine{465     \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\_RETURN\_E}} err;}
\DoxyCodeLine{466 }
\DoxyCodeLine{467     \textcolor{keywordflow}{if}(table == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} || table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}} == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{468     \{}
\DoxyCodeLine{469         \textcolor{keywordflow}{return} \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e}{OS\_ERR\_NULL\_POINTER}};}
\DoxyCodeLine{470     \}}
\DoxyCodeLine{471 }
\DoxyCodeLine{472     \textcolor{comment}{/* Get the hash and ensure it does not overflow the current capacity */}}
\DoxyCodeLine{473     hash        = \mbox{\hyperlink{uhashtable_8c_aee31db0f156eaae75d46c275450f392e}{\_uhash\_64}}(key);}
\DoxyCodeLine{474     entry\_index = (\mbox{\hyperlink{stddef_8h_aa9d55e2f20e580b7445617d0d12fff6e}{size\_t}})(hash \& (\mbox{\hyperlink{stdint_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}})(table-\/>\mbox{\hyperlink{structuhashtable__t_ad721fc6ca6a3d6ba3bc506576622aab0}{capacity}} -\/ 1));}
\DoxyCodeLine{475 }
\DoxyCodeLine{476     \textcolor{comment}{/* Check if the graveyard load is under the threshold */}}
\DoxyCodeLine{477     \textcolor{keywordflow}{if}((\textcolor{keywordtype}{float})table-\/>\mbox{\hyperlink{structuhashtable__t_ad721fc6ca6a3d6ba3bc506576622aab0}{capacity}} * \mbox{\hyperlink{uhashtable_8c_ac692d079184deeecc8475bc75b5a21ba}{HT\_MAX\_GRAVEYARD\_FACTOR}} < table-\/>\mbox{\hyperlink{structuhashtable__t_aff3f618d728a254c5f36856775626497}{graveyard\_size}})}
\DoxyCodeLine{478     \{}
\DoxyCodeLine{479         \textcolor{comment}{/* Rehash with a growth factor or 1 to keep the same capacity */}}
\DoxyCodeLine{480         err = \mbox{\hyperlink{uhashtable_8c_a467f7118260ef6f993a93c55faa36431}{\_uhashtable\_rehash}}(table, 1);}
\DoxyCodeLine{481         \textcolor{keywordflow}{if}(err != \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186}{OS\_NO\_ERR}})}
\DoxyCodeLine{482         \{}
\DoxyCodeLine{483             \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{484         \}}
\DoxyCodeLine{485     \}}
\DoxyCodeLine{486 }
\DoxyCodeLine{487     \textcolor{comment}{/* Search for the entry in the table. Note that due to the fact that our}}
\DoxyCodeLine{488 \textcolor{comment}{     * load factor should always be under 1.0, there is at least one entry that}}
\DoxyCodeLine{489 \textcolor{comment}{     * is NULL. Hence we cannot have an infinite loop here. */}}
\DoxyCodeLine{490     \textcolor{keywordflow}{while}(table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[entry\_index] != \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{491     \{}
\DoxyCodeLine{492         \textcolor{comment}{/* Found the entry */}}
\DoxyCodeLine{493         \textcolor{keywordflow}{if}(table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[entry\_index]-\/>\mbox{\hyperlink{structuhashtable__entry__t_ab4c3b12445fae2df7439fd1f0f767358}{key}} == key \&\&}
\DoxyCodeLine{494            table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[entry\_index]-\/>\mbox{\hyperlink{structuhashtable__entry__t_a97bb7a73f339f51bd597d5942b4e1628}{is\_used}} == \mbox{\hyperlink{stdint_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}})}
\DoxyCodeLine{495         \{}
\DoxyCodeLine{496             \textcolor{keywordflow}{if}(data != \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{497             \{}
\DoxyCodeLine{498                 *data = table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[entry\_index]-\/>\mbox{\hyperlink{structuhashtable__entry__t_a735984d41155bc1032e09bece8f8d66d}{data}};}
\DoxyCodeLine{499             \}}
\DoxyCodeLine{500             table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}}[entry\_index]-\/>\mbox{\hyperlink{structuhashtable__entry__t_a97bb7a73f339f51bd597d5942b4e1628}{is\_used}} = \mbox{\hyperlink{stdint_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{501 }
\DoxyCodeLine{502             ++table-\/>\mbox{\hyperlink{structuhashtable__t_aff3f618d728a254c5f36856775626497}{graveyard\_size}};}
\DoxyCodeLine{503             -\/-\/table-\/>\mbox{\hyperlink{structuhashtable__t_a854352f53b148adc24983a58a1866d66}{size}};}
\DoxyCodeLine{504 }
\DoxyCodeLine{505             \textcolor{keywordflow}{return} \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186}{OS\_NO\_ERR}};}
\DoxyCodeLine{506         \}}
\DoxyCodeLine{507 }
\DoxyCodeLine{508         \textcolor{comment}{/* Increment the index */}}
\DoxyCodeLine{509         entry\_index = (entry\_index + 1) \% table-\/>\mbox{\hyperlink{structuhashtable__t_ad721fc6ca6a3d6ba3bc506576622aab0}{capacity}};}
\DoxyCodeLine{510     \}}
\DoxyCodeLine{511 }
\DoxyCodeLine{512     \textcolor{keywordflow}{return} \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a9aecdbdd1ae10ab77e2e648c8b5f1df5}{OS\_ERR\_INCORRECT\_VALUE}};}
\DoxyCodeLine{513 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{uhashtable_8h_afc513a0be47b9028258f750346bbc414_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{uhashtable_8h_adba2caa76e6636d49ba7538597d10952}\label{uhashtable_8h_adba2caa76e6636d49ba7538597d10952}} 
\index{uhashtable.h@{uhashtable.h}!uhashtable\_set@{uhashtable\_set}}
\index{uhashtable\_set@{uhashtable\_set}!uhashtable.h@{uhashtable.h}}
\doxysubsubsection{\texorpdfstring{uhashtable\_set()}{uhashtable\_set()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\+\_\+\+RETURN\+\_\+E}} uhashtable\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structuhashtable__t}{uhashtable\+\_\+t}} $\ast$}]{table,  }\item[{const uintptr\+\_\+t}]{key,  }\item[{void $\ast$}]{data }\end{DoxyParamCaption})}



Sets a value in the hash table. 

Sets a value in the hash table. If the value already exists, the previous value is overwritten, otherwise, a new entry is created.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em table} & The table to set the data into. \\
\hline
\mbox{\texttt{ in}}  & {\em key} & The key to associate to the data. \\
\hline
\mbox{\texttt{ in}}  & {\em data} & The data to set in the table.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The error status is returned. 
\end{DoxyReturn}


Definition at line 433 of file uhashtable.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{436 \{}
\DoxyCodeLine{437     \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0}{OS\_RETURN\_E}} err;}
\DoxyCodeLine{438 }
\DoxyCodeLine{439     \textcolor{keywordflow}{if}(table == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} || table-\/>\mbox{\hyperlink{structuhashtable__t_aeec919785c406d2cabc467e8d0fc0f31}{entries}} == \mbox{\hyperlink{stddef_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{440     \{}
\DoxyCodeLine{441         \textcolor{keywordflow}{return} \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a8177a51adc2ead06e58edc0efd4ec20e}{OS\_ERR\_NULL\_POINTER}};}
\DoxyCodeLine{442     \}}
\DoxyCodeLine{443 }
\DoxyCodeLine{444     \textcolor{comment}{/* Check if the current load is under the threshold, double the size */}}
\DoxyCodeLine{445     \textcolor{keywordflow}{if}((\textcolor{keywordtype}{float})table-\/>\mbox{\hyperlink{structuhashtable__t_ad721fc6ca6a3d6ba3bc506576622aab0}{capacity}} * \mbox{\hyperlink{uhashtable_8c_ae0eb456851578fd546fcc7f95b6e1e45}{HT\_MAX\_LOAD\_FACTOR}} <}
\DoxyCodeLine{446        table-\/>\mbox{\hyperlink{structuhashtable__t_a854352f53b148adc24983a58a1866d66}{size}} + table-\/>\mbox{\hyperlink{structuhashtable__t_aff3f618d728a254c5f36856775626497}{graveyard\_size}})}
\DoxyCodeLine{447     \{}
\DoxyCodeLine{448         err = \mbox{\hyperlink{uhashtable_8c_a467f7118260ef6f993a93c55faa36431}{\_uhashtable\_rehash}}(table, 2);}
\DoxyCodeLine{449         \textcolor{keywordflow}{if}(err != \mbox{\hyperlink{kerror_8h_a51557cb52bbb9ee9d55aab5b9b16c3d0a188fd154c7a72b48eaeac6b03930c186}{OS\_NO\_ERR}})}
\DoxyCodeLine{450         \{}
\DoxyCodeLine{451             \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{452         \}}
\DoxyCodeLine{453     \}}
\DoxyCodeLine{454 }
\DoxyCodeLine{455     \textcolor{comment}{/* Insert the entry */}}
\DoxyCodeLine{456     \textcolor{keywordflow}{return} \mbox{\hyperlink{uhashtable_8c_ad1bac19afa6b5926bd1a266777a7cddb}{\_uhashtable\_set\_entry}}(table, key, data);}
\DoxyCodeLine{457 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{uhashtable_8h_adba2caa76e6636d49ba7538597d10952_cgraph}
\end{center}
\end{figure}
